{"remainingRequest":"/home/sergey/projects/whatbayGH/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sergey/projects/whatbayGH/src/components/calendar/Calendar.vue?vue&type=style&index=0&id=23ae2baf&scoped=true&lang=css&","dependencies":[{"path":"/home/sergey/projects/whatbayGH/src/components/calendar/Calendar.vue","mtime":1643303591972},{"path":"/home/sergey/projects/whatbayGH/node_modules/css-loader/dist/cjs.js","mtime":1643348324312},{"path":"/home/sergey/projects/whatbayGH/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1643348325908},{"path":"/home/sergey/projects/whatbayGH/node_modules/postcss-loader/src/index.js","mtime":1643348324804},{"path":"/home/sergey/projects/whatbayGH/node_modules/cache-loader/dist/cjs.js","mtime":1643348323584},{"path":"/home/sergey/projects/whatbayGH/node_modules/vue-loader/lib/index.js","mtime":1643348325232}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoud3JhcHBlci1zaG9wIHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIG1hcmdpbi1ib3R0b206IDE2cHg7Cn0KLmNhbGVuZGFyIHsKICBkaXNwbGF5OiBncmlkOwogIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDcsIDFmcik7Cn0KLmNhbGVuZGFyLXdlZWsgewogIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgbWluLWhlaWdodDogMzZweDsKICBtaW4td2lkdGg6IDM2cHg7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwp9Ci53ZWVrbHlEYXkgewogIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KLndlZWtFbmQgewogIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgY29sb3I6IHJlZDsKfQouY2FsZW5kYXJJdGVtcyB7CiAgbWluLWhlaWdodDogMzZweDsKICBtaW4td2lkdGg6IDM2cHg7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwp9Ci5saXN0RGF0ZSB7CiAgd2lkdGg6IDEwMCU7CiAgbWFyZ2luLXRvcDogMzBweDsKfQouaGVhZGVyLWxpc3QgewogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgd2lkdGg6IDEwMCU7CiAgbWFyZ2luLWJvdHRvbTogMTBweDsKfQoubGlzdERhdGVfYm9keSB7CiAgbWFyZ2luLXRvcDogMjBweDsKICAvKmRpc3BsYXk6IGZsZXg7Ki8KICAvKmp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsqLwp9Ci5ub3RlIHsKICBib3JkZXItYm90dG9tOiAxcHggc29saWQgZGFya2JsdWU7Cn0K"},{"version":3,"sources":["Calendar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Calendar.vue","sourceRoot":"src/components/calendar","sourcesContent":["<template>\n  <div>\n    <div class=\"content\">\n      <div class=\"calendar\">\n        <div class=\"calendar-week\" v-for=\"(_,i) in 7\">\n          <span class=\"weeklyDay\"\n            :class=\"{weekEnd: i === 5 || i === 6}\">{{ weekDayName(i) }}</span>\n        </div>\n        <div class=\"calendarItems\" v-for=\"day in dayOfMonth\">\n            <CalendarItem :data=\"day\" :noteData=\"dateList\" v-if=\"day\" @showList=\"showList\"/>\n        </div>\n      </div>\n      <div class=\"listDate\">\n        <div class=\"header-list\">\n          <div class=\"selectedDate\">\n            {{ dateList | date('date') }}\n          </div>\n          <div class=\"choiceMenu\">\n            <img src=\"../../assets/img/settings.svg\" @click=\"showChoiceMenu\">\n          </div>\n        </div>\n        <div v-if=\"Object.keys(thisDateList).length\">\n          <ShopListItem\n              v-for=\"(shop, idx) in getDateList\"\n              :idx = \"idx\"\n              :shop_data = \"shop\"\n          >\n          </ShopListItem>\n<!--          allShops-->\n<!--          *****************************************************-->\n<!--          <div class=\"listDate_body\" v-for=\"shopList in getDateList\">-->\n<!--            <div class=\"wrapper-shop\">-->\n<!--              <div class=\"shopData\">-->\n<!--                <div class=\"shopName\">-->\n<!--                  {{ shopList.shop_name }}-->\n<!--                </div>-->\n<!--                <div class=\"qtyList\">-->\n<!--                  {{ shopList.lists.length }} список-->\n<!--                </div>-->\n<!--              </div>-->\n<!--              <div class=\"show-shop-lists\">-->\n<!--                <img src=\"../../assets/img/showListShop.png\">-->\n<!--              </div>-->\n<!--              ************************************************-->\n<!--              <div class=\"close-shop-lists\" v-else @click=\"closeDropListShops\">-->\n<!--                <img src=\"../../assets/img/closeListShop.png\">-->\n<!--              </div>-->\n<!--            </div>-->\n<!--            <div class=\"shopData\">-->\n<!--              {{ dateList | date('short') }}-->\n<!--            </div>-->\n<!--            <div class=\"shopName\">-->\n<!--              {{ shopList.shop}}-->\n<!--            </div>-->\n<!--            <div class=\"quantity\">-->\n<!--              {{ shopList.purchase }}/{{ shopList.buy_prod }}-->\n<!--            </div>-->\n<!--          </div>-->\n        </div>\n        <div v-else>\n          <p>Нет списков на текущую дату</p>\n        </div>\n      </div>\n      <ChoiceMenu v-if=\"isVisible\" @closeDropMenu=\"closeDropMenu\"/>\n    </div>\n  </div>\n</template>\n\n<script>\nimport CalendarItem from \"./CalendarItem\";\nimport ChoiceMenu from \"../modal/ChoiceMenu\";\nimport {mapGetters, mapActions} from \"vuex\"\nimport userData from \"../composables/userData\";\nimport ShopListItem from \"../shop/ShopListItem\";\n\nexport default {\n  name: \"Calendar\",\n  components: {\n    CalendarItem,\n    ChoiceMenu,\n    ShopListItem\n  },\n\n  props: ['selectedDate'],\n\n  data() {\n    return {\n      isVisible: false,\n      dateList: new Date(),\n    }\n  },\n\n  computed: {\n    ...mapGetters([\n        'dayOfMonth',\n        'allShops',\n        'getShopsList',\n        'getQty',\n        'getShopUserId',\n        'getListByDay',\n        'getListUserId'\n    ]),\n    thisDateList() {\n      return this.listByDate()\n    },\n    getDateList() {\n      const shops = this.getShopUserId;\n      const lists = this.listByDate();\n      const allListsDate = userData(shops, lists);\n      const haveList = [];\n      for (let list of allListsDate) {\n        if (list.lists.length) {\n          haveList.push(list)\n        }\n      }\n      return haveList;\n    }\n  },\n  watch: {\n    selectedDate() {\n      this.getDaysOfMonth(this.selectedDate);\n    },\n  },\n  methods: {\n      ...mapActions(['fetchShops', 'getDaysOfMonth', 'getUserListByDate']),\n\n    weekDayName(i) {\n      const d = new Date('2021-04-05')\n      d.setDate(d.getDate() + i)\n      return d.toLocaleDateString('ru-RU', {weekday: 'short'})\n    },\n    showChoiceMenu() {\n      this.isVisible = true\n    },\n    closeDropMenu() {\n      this.isVisible = false\n    },\n    showList(selectDate) {\n      this.dateList = selectDate\n    },\n    listByDate() {\n      this.dateList.setMinutes(this.dateList.getMinutes() - this.dateList.getTimezoneOffset())\n      const noteDay = this.dateList.toISOString().split('T')[0]\n      const listDay = []\n      for (let list of this.getListUserId ) {\n        let listByDay = list.created_at.split('T')[0]\n        if (listByDay === noteDay) {\n          listDay.push(list)\n        }\n      }\n      //console.log(listDay)\n      return listDay\n    }\n  },\n    async mounted() {\n      this.getDaysOfMonth(this.selectedDate);\n  },\n}\n</script>\n\n<style scoped>\n.wrapper-shop {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 16px;\n}\n.calendar {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n}\n.calendar-week {\n  margin-bottom: 20px;\n  min-height: 36px;\n  min-width: 36px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.weeklyDay {\n  text-transform: uppercase;\n  font-weight: bold;\n}\n.weekEnd {\n  text-transform: uppercase;\n  font-weight: bold;\n  color: red;\n}\n.calendarItems {\n  min-height: 36px;\n  min-width: 36px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.listDate {\n  width: 100%;\n  margin-top: 30px;\n}\n.header-list {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  margin-bottom: 10px;\n}\n.listDate_body {\n  margin-top: 20px;\n  /*display: flex;*/\n  /*justify-content: space-between;*/\n}\n.note {\n  border-bottom: 1px solid darkblue;\n}\n</style>"]}]}