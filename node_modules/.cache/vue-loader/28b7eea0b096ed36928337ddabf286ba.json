{"remainingRequest":"/home/sergey/projects/whatbayGH/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sergey/projects/whatbayGH/src/components/shop/ShopListItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/sergey/projects/whatbayGH/src/components/shop/ShopListItem.vue","mtime":1643275710317},{"path":"/home/sergey/projects/whatbayGH/node_modules/cache-loader/dist/cjs.js","mtime":1643348323584},{"path":"/home/sergey/projects/whatbayGH/node_modules/babel-loader/lib/index.js","mtime":1643348324864},{"path":"/home/sergey/projects/whatbayGH/node_modules/cache-loader/dist/cjs.js","mtime":1643348323584},{"path":"/home/sergey/projects/whatbayGH/node_modules/vue-loader/lib/index.js","mtime":1643348325232}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBMaXN0U2hvcCBmcm9tICIuLi9tb2RhbC9Nb2RhbExpc3RTaG9wIjsKaW1wb3J0IHttYXBHZXR0ZXJzfSBmcm9tICJ2dWV4IjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiU2hvcExpc3RJdGVtIiwKICBjb21wb25lbnRzOiB7CiAgICBMaXN0U2hvcCwKICB9LAogIHByb3BzOiBbJ3Nob3BfZGF0YSddLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc1Zpc2libGVMaXN0U2hvcHM6IGZhbHNlLAogICAgICBsaXN0SWQ6ICcnCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzaG93RHJvcExpc3RTaG9wcygpIHsKICAgICAgICB0aGlzLmlzVmlzaWJsZUxpc3RTaG9wcyA9IHRydWUKICAgIH0sCiAgICBjbG9zZURyb3BMaXN0U2hvcHMoKSB7CiAgICAgIHRoaXMuaXNWaXNpYmxlTGlzdFNob3BzID0gZmFsc2UKICAgIH0sCiAgICBhc3luYyBnZXRVc2VyT3JkZXJzKCkgewogICAgICBjb25zdCB1c2VySWQgPSB7CiAgICAgICAgdXNlcl9pZDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NhdmVVc2VySWQnKQogICAgICB9CiAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdnZXRPcmRlclVzZXInLCB1c2VySWQpCiAgICB9LAogICAgcXVhbnRpdHkobGlzdElkLCBzaG9wSWQsIGxpc3REYXkpIHsKICAgICAgbGV0IGNvdW50ID0gMDsKICAgICAgZm9yIChsZXQgbGlzdCBvZiB0aGlzLmdldFF0eSkgewogICAgICAgIGlmIChsaXN0LmRheSA9PT0gbGlzdERheSAmJiBsaXN0Lmxpc3RfaWQgPT09IGxpc3RJZCAmJiBsaXN0LnNob3BfaWQgPT09IHNob3BJZCkgewogICAgICAgICAgY291bnQgKz0gMQogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gY291bnQKICAgIH0sCiAgICBwdXJjaGFzZShsaXN0SWQsIHNob3BJZCwgbGlzdERheSkgewogICAgICBsZXQgY291bnQgPSAwCiAgICAgIGZvciAobGV0IGxpc3Qgb2YgdGhpcy5nZXRRdHkpIHsKICAgICAgICBpZiAobGlzdC5kYXkgPT09IGxpc3REYXkgJiYgbGlzdC5saXN0X2lkID09PSBsaXN0SWQgJiYKICAgICAgICAgICAgbGlzdC5zaG9wX2lkID09PSBzaG9wSWQgJiYgbGlzdC5pc19zdWNjZXNzID09PSB0cnVlKSB7CiAgICAgICAgICBjb3VudCArPTEKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIGNvdW50CiAgICB9CiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0VXNlck9yZGVycygpCiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoWydnZXRVc2VySWQnLCAnZ2V0TGlzdFByb2R1Y3RzJywgJ2dldFF0eSddKSwKICB9Cgp9Cg=="},{"version":3,"sources":["ShopListItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA","file":"ShopListItem.vue","sourceRoot":"src/components/shop","sourcesContent":["<template>\n  <div>\n  <div class=\"wrapper-shop\">\n          <div class=\"shopData\">\n            <div class=\"shopName\" @click=\"showDropListShops\">\n              {{ shop_data.shop_name }}\n            </div>\n            <div class=\"qtyList\" @click=\"showDropListShops\">\n              {{ shop_data.lists.length }} список\n            </div>\n          </div>\n          <div class=\"show-shop-lists\" v-if=\"!isVisibleListShops\" @click=\"showDropListShops\">\n              <img src=\"../../assets/img/showListShop.png\">\n          </div>\n          <div class=\"close-shop-lists\" v-else @click=\"closeDropListShops\">\n              <img src=\"../../assets/img/closeListShop.png\">\n          </div>\n  </div>\n    <div  v-for=\"(list, idx) in shop_data.lists\">\n      <ListShop  v-if=\"isVisibleListShops\">\n        <router-link class=\"wrapper-list\"\n                     :to=\"{name: 'shop', params:{ id: shop_data.shop_id,\n                          shop: shop_data.shop_name, day: list.day, listId: list.list_id}}\">\n          <div class=\"wrap-list-day-name\">\n            <div class=\"shop-data\">{{ list.day | date('short') }}</div>\n            <div class=\"shop-name\">{{ list.list_name }}</div>\n          </div>\n          <div class=\"wrap-qty\">\n            <div class=\"qty-list\">\n              {{ purchase(list.list_id, shop_data.shop_id, list.day) }}/\n            </div>\n            <div class=\"qty-list\">\n              {{quantity(list.list_id, shop_data.shop_id, list.day)}}\n            </div>\n          </div>\n          <div class=\"wrap-group\">\n            <div class=\"ava\">A</div>\n            <div class=\"ava\">B</div>\n            <div class=\"ava\">K</div>\n          </div>\n        </router-link>\n      </ListShop>\n    </div>\n<!--    {{getQty}}-->\n  </div>\n</template>\n\n<script>\nimport ListShop from \"../modal/ModalListShop\";\nimport {mapGetters} from \"vuex\";\n\nexport default {\n  name: \"ShopListItem\",\n  components: {\n    ListShop,\n  },\n  props: ['shop_data'],\n  data() {\n    return {\n      isVisibleListShops: false,\n      listId: ''\n    }\n  },\n  methods: {\n    showDropListShops() {\n        this.isVisibleListShops = true\n    },\n    closeDropListShops() {\n      this.isVisibleListShops = false\n    },\n    async getUserOrders() {\n      const userId = {\n        user_id: localStorage.getItem('saveUserId')\n      }\n      await this.$store.dispatch('getOrderUser', userId)\n    },\n    quantity(listId, shopId, listDay) {\n      let count = 0;\n      for (let list of this.getQty) {\n        if (list.day === listDay && list.list_id === listId && list.shop_id === shopId) {\n          count += 1\n        }\n      }\n      return count\n    },\n    purchase(listId, shopId, listDay) {\n      let count = 0\n      for (let list of this.getQty) {\n        if (list.day === listDay && list.list_id === listId &&\n            list.shop_id === shopId && list.is_success === true) {\n          count +=1\n        }\n      }\n      return count\n    }\n  },\n\n  mounted() {\n    this.getUserOrders()\n  },\n\n  computed: {\n    ...mapGetters(['getUserId', 'getListProducts', 'getQty']),\n  }\n\n}\n</script>\n\n<style>\n.wrapper-shop {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 16px;\n}\n.shopData {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n.shopName {\n  min-width: 180px;\n}\n.wrapper-list {\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  color: black;\n  margin-bottom: 10px;\n  padding-left: 15px;\n}\n.shop-data {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 30px;\n}\n.shop-name {\n  min-width: 110px;\n  padding-left: 20px;\n}\n.wrap-list-day-name, .wrap-qty, .wrap-group {\n  display: flex;\n  align-items: center;\n}\n.ava {\n  width: 18px;\n  height: 18px;\n  background: #c4c4c4;\n  border-radius: 2px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 14px;\n  color: #FFFFFF;\n  margin-left: 11px\n}\n</style>"]}]}