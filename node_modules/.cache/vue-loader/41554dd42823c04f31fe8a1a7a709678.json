{"remainingRequest":"/home/sergey/projects/whatbayGH/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sergey/projects/whatbayGH/src/views/CreateProduct.vue?vue&type=style&index=0&id=4725d709&scoped=true&lang=css&","dependencies":[{"path":"/home/sergey/projects/whatbayGH/src/views/CreateProduct.vue","mtime":1643276979377},{"path":"/home/sergey/projects/whatbayGH/node_modules/css-loader/dist/cjs.js","mtime":1643348324312},{"path":"/home/sergey/projects/whatbayGH/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1643348325908},{"path":"/home/sergey/projects/whatbayGH/node_modules/postcss-loader/src/index.js","mtime":1643348324804},{"path":"/home/sergey/projects/whatbayGH/node_modules/cache-loader/dist/cjs.js","mtime":1643348323584},{"path":"/home/sergey/projects/whatbayGH/node_modules/vue-loader/lib/index.js","mtime":1643348325232}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubmV3LXNob3AtbGlzdC1zZWxlY3QgewogIGJvcmRlcjogMXB4IHNvbGlkICNjNGM0YzQ7CiAgYmFja2dyb3VuZDogbm9uZTsKICBvdXRsaW5lOiBub25lOwogIC8qbWluLXdpZHRoOiAyMDBweDsqLwogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogNTZweDsKICBib3JkZXItcmFkaXVzOiA3cHg7CiAgcGFkZGluZzogMHB4IDExcHg7CiAgY29sb3I6ICMyNDJlNDI7CiAgLS13ZWJraXQtYXBwZWFyZW5jZTogbm9uZTsKICAtLW1vei1hcHBlYXJhbmNlOiBub25lOwogIC0tbXMtYXBwZWFyYW5jZTogbm9uZTsKICBhcHBlYXJhbmNlOiBub25lOwogIGJhY2tncm91bmQtaW1hZ2U6IHVybCgiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB3aWR0aD0nMTAnIGhlaWdodD0nNScgdmlld0JveD0nMCAwIDEwIDUnIGZpbGw9J25vbmUnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyclM0UlM0NwYXRoIGQ9J00wIDBMNSA1TDEwIDBIMFonIGZpbGw9J2JsYWNrJyBmaWxsLW9wYWNpdHk9JzAuNTQnLyUzRSUzQy9zdmclM0UlMEEiKTsKICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0OwogIGJhY2tncm91bmQtcG9zaXRpb24teDogcmlnaHQ7CiAgYmFja2dyb3VuZC1wb3NpdGlvbi15OiBjZW50ZXI7CiAgYmFja2dyb3VuZC1vcmlnaW46IGNvbnRlbnQtYm94Owp9Ci5mb3JtLWNyZWF0ZSB7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgcGFkZGluZzogMHB4IDE2cHg7Cn0KLnNlbGVjdC13cmFwcGVyIHsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwp9Ci5idG4tYWRkLWNhdGVnb3J5IHsKICBib3JkZXI6IG5vbmU7CiAgYmFja2dyb3VuZDogbm9uZTsKICBvdXRsaW5lOiBub25lOwogIGNvbG9yOiAjMkM5QUI3Owp9Ci5idG4tYWRkLWNhdGVnb3J5OmhvdmVyIHsKICBjb2xvcjogIzJDOUFCNzsKICBmb250LXdlaWdodDogYm9sZDsKICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsKfQouYnRuLWFkZCB7CiAgd2lkdGg6IDE1MHB4OwogIGhlaWdodDogNTZweDsKfQouYnRuLWFkZC1wcm9kdWN0IHsKICBib3JkZXI6IDFweCBzb2xpZCAjMkM5QUI3OwogIGJhY2tncm91bmQ6IG5vbmU7CiAgb3V0bGluZTogbm9uZTsKICBib3JkZXItcmFkaXVzOiA3cHg7CiAgY29sb3I6ICMyQzlBQjc7CiAgd2lkdGg6IDUwcHg7CiAgaGVpZ2h0OiA1MHB4OwogIGZvbnQtc2l6ZTogMzJweDsKICBtYXJnaW4tbGVmdDogMTBweDsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7Cn0KLmJ0bi1hZGQtcHJvZHVjdDpob3ZlciB7CiAgYmFja2dyb3VuZDogIzJDOUFCNzsKICBjb2xvcjogI0ZGRkZGRjsKfQo="},{"version":3,"sources":["CreateProduct.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CreateProduct.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <form class=\"form-create\" method=\"post\" @submit.prevent=\"createProduct\">\n      <div class=\"w-100\">\n        <div class=\"select-wrapper\">\n          <div class=\"w-100\">\n            <select v-model=\"category_id\" class=\"new-shop-list-select\">\n              <option value=\"null\" disabled selected class=\"opSelected\">Без категории</option>\n              <option v-for=\"option in getCategoryUserId\" :key=\"option.id\"\n                    :value=\"option.id\">\n                {{ option.category_name}}\n              </option>\n            </select>\n          </div>\n          <div class=\"btn-add-product\" @click=\"showModalNewCategory\">+</div>\n        </div>\n        <p class=\"small p-2\">выберите категорию или <br>\n          <span class=\"btn-add-category\" @click=\"showModalNewCategory\">добавте новую</span></p>\n      </div>\n      <div class=\"w-100\">\n        <div class=\"select-wrapper\">\n          <div class=\"w-100\">\n            <select v-model=\"product\" class=\"new-shop-list-select\">\n              <option value=\"null\" disabled selected class=\"opSelected\">Выберите продукт</option>\n              <option v-for=\"opProduct in products\" :value=\"opProduct.product_name\">\n                {{ opProduct.product_name}}\n              </option>\n            </select>\n          </div>\n          <div class=\"btn-add-product\" @click=\"showModalNewProduct\">+</div>\n        </div>\n        <p class=\"small p-2\">выберите продукт или <br>\n          <span class=\"btn-add-category\" @click=\"showModalNewProduct\">добавить новый</span>\n        </p>\n      </div>\n      <button class=\"button btn-add\" type=\"submit\">Добавить</button>\n    </form>\n    <ModalNewCategory v-if=\"isModalNewCategory\"\n                      :category_id=\"this.category_id\"\n                      :shop=\"this.shop\"\n                      :day=\"this.day\"\n                      :id=\"this.id\"\n                      @closeModalCreateCategory=\"closeModalCreateCategory\"/>\n    <ModalNewProduct v-if=\"isModalNewProduct\"\n                     :category_id=\"this.category_id\"\n                     :shop=\"this.shop\"\n                     :day=\"this.day\"\n                     :id=\"this.id\"\n                     :user_id=\"this.getUserId\"\n                     :list_id=\"this.list_id\"\n    @closeModalCreateProduct=\"closeModalCreateProduct\"/>\n  </div>\n</template>\n\n<script>\nimport {mapGetters} from \"vuex\";\nimport ModalNewCategory from \"../components/modal/ModalNewCategory\";\nimport ModalNewProduct from \"../components/modal/ModalNewProduct\";\nimport productFilter from \"../filters/product.filter\";\n\nexport default {\n  name: \"CreateProduct\",\n  components: {\n    ModalNewCategory,\n    ModalNewProduct\n  },\n\n  props: ['shop', 'day', 'id', 'list_id'],\n\n  data () {\n    return {\n      product: 'null',\n      category_id: 0,\n      isModalNewCategory: false,\n      isModalNewProduct: false\n    }\n  },\n\n  methods: {\n    async createProduct() {\n      const isProduct = this.getListProducts.filter(item => item.product_name === this.product)\n      if (!isProduct.length) {\n        const newProduct = {\n          category_id: this.category_id,\n          day: this.day,\n          is_success: false,\n          shop_id: this.id,\n          shop_name: this.shop,\n          order_id: this.id,\n          category_name: this.category,\n          product_name: this.product,\n          user_id: this.getUserId,\n          list_id: this.list_id\n        }\n        try {\n          await this.$store.dispatch('createNewOrdersProduct', newProduct)\n          await this.$store.dispatch('createNewProduct', newProduct)\n          await this.$router.push(`/my_shops_shop/${this.id}/${this.shop}/${this.day}`)\n        } catch (e) {}\n      } else {\n        alert('Продукт есть в списке')\n      }\n    },\n\n    showModalNewCategory() {\n      this.isModalNewCategory = true\n    },\n\n    showModalNewProduct() {\n      this.isModalNewProduct = true\n    },\n    closeModalCreateProduct() {\n      this.isModalNewProduct = false\n    },\n    closeModalCreateCategory() {\n      this.isModalNewCategory = false\n    }\n  },\n\n  computed: {\n    ...mapGetters\n    ([\n      'getListProducts',\n      'getCategoryUserId',\n      'getUserId',\n      'getProductUserId'\n    ]),\n\n    products() {\n      return  productFilter(this.category_id, this.getProductUserId)\n    },\n  },\n  mounted() {}\n}\n</script>\n\n<style scoped>\n  .new-shop-list-select {\n    border: 1px solid #c4c4c4;\n    background: none;\n    outline: none;\n    /*min-width: 200px;*/\n    width: 100%;\n    height: 56px;\n    border-radius: 7px;\n    padding: 0px 11px;\n    color: #242e42;\n    --webkit-appearence: none;\n    --moz-appearance: none;\n    --ms-appearance: none;\n    appearance: none;\n    background-image: url(\"data:image/svg+xml,%3Csvg width='10' height='5' viewBox='0 0 10 5' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0L5 5L10 0H0Z' fill='black' fill-opacity='0.54'/%3E%3C/svg%3E%0A\");\n    background-repeat: no-repeat;\n    background-position-x: right;\n    background-position-y: center;\n    background-origin: content-box;\n  }\n  .form-create {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding: 0px 16px;\n  }\n  .select-wrapper {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n  .btn-add-category {\n    border: none;\n    background: none;\n    outline: none;\n    color: #2C9AB7;\n  }\n  .btn-add-category:hover {\n    color: #2C9AB7;\n    font-weight: bold;\n    text-decoration: underline;\n  }\n  .btn-add {\n    width: 150px;\n    height: 56px;\n  }\n  .btn-add-product {\n    border: 1px solid #2C9AB7;\n    background: none;\n    outline: none;\n    border-radius: 7px;\n    color: #2C9AB7;\n    width: 50px;\n    height: 50px;\n    font-size: 32px;\n    margin-left: 10px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  .btn-add-product:hover {\n    background: #2C9AB7;\n    color: #FFFFFF;\n  }\n</style>"]}]}