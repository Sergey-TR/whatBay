{"remainingRequest":"/home/sergey/projects/whatbayGH/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sergey/projects/whatbayGH/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/sergey/projects/whatbayGH/src/views/Login.vue","mtime":1642944065333},{"path":"/home/sergey/projects/whatbayGH/node_modules/cache-loader/dist/cjs.js","mtime":1643348323584},{"path":"/home/sergey/projects/whatbayGH/node_modules/babel-loader/lib/index.js","mtime":1643348324864},{"path":"/home/sergey/projects/whatbayGH/node_modules/cache-loader/dist/cjs.js","mtime":1643348323584},{"path":"/home/sergey/projects/whatbayGH/node_modules/vue-loader/lib/index.js","mtime":1643348325232}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7cmVxdWlyZWQsIGVtYWlsLCBtaW5MZW5ndGh9IGZyb20gInZ1ZWxpZGF0ZS9saWIvdmFsaWRhdG9ycyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxvZ2luIiwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVtYWlsOiAnJywKICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICB1c2VyX25hbWU6ICcnCiAgICB9CiAgfSwKCiAgdmFsaWRhdGlvbnM6IHsKICAgIGVtYWlsOiB7CiAgICAgIGVtYWlsLAogICAgICByZXF1aXJlZAogICAgfSwKICAgIHVzZXJfbmFtZTogewogICAgICByZXF1aXJlZCwKICAgICAgbWluTGVuZ3RoOiBtaW5MZW5ndGgoMykKICAgIH0sCiAgICBwYXNzd29yZDogewogICAgICByZXF1aXJlZAogICAgfQogIH0sCgogIG1ldGhvZHM6IHsKICAgIHNob3dfaGlkZV9wYXNzd29yZCh0YXJnZXQpewogICAgICBsZXQgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXJnZXQpOwogICAgICBpZiAoaW5wdXQuZ2V0QXR0cmlidXRlKCd0eXBlJykgPT0gJ3Bhc3N3b3JkJykgewogICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0Jyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3Bhc3N3b3JkJyk7CiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSwKICAgIGFzeW5jIHN1Ym1pdEhhbmRsZXIoKSB7CiAgICAgIGlmKHRoaXMuJHYuJGludmFsaWQpIHsKICAgICAgICB0aGlzLiR2LiR0b3VjaCgpCiAgICAgICAgcmV0dXJuCiAgICAgIH0KCiAgICAgIGNvbnN0IGZvcm1EYXRhID0gewogICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLAogICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkLAogICAgICAgIC8vdXNlcm5hbWU6IHRoaXMuZW1haWwKICAgICAgfQogICAgICB0cnkgewogICAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdsb2dpbicsIGZvcm1EYXRhKQogICAgICAgIGF3YWl0IHRoaXMuJHJvdXRlci5wdXNoKCcvbXlfc2hvcCcpCiAgICAgIH0KICAgICAgICBjYXRjaCAoZSkge30KICAgIH0sCiAgfSwKfQo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"main-wrapper flex-center-column\">\n  <div class=\"section-heading\">\n    <h3 class=\"h3\">Вход</h3>\n      <p class=\"section-content\">\n        Введите ваши учетные данные\n      </p>\n  </div>\n  <form class=\"form\" method=\"post\" @submit.prevent=\"submitHandler\">\n    <label class=\"form-label\" for=\"user_name\">\n      Введите ваш login\n    </label>\n    <small class=\"invalid err_info\" v-if=\"($v.user_name.$dirty && !$v.user_name.required)\n        || ($v.user_name.$dirty && !$v.user_name.minLength)\">\n      Поле имя не должно быть пустым, и содержать не менее {{ $v.user_name.$params.minLength.min }} символов.\n    </small>\n    <input class=\"form-input\"\n           type=\"text\"\n           placeholder=\"Name\"\n           id=\"user_name\"\n           v-model.trim=\"user_name\"\n           :class=\"{invalid: ($v.user_name.$dirty && !$v.user_name.required)\n          || ($v.user_name.$dirty && !$v.user_name.minLength)}\">\n\n    <label class=\"form-label\" for=\"user_email\">\n      Введите ваш e-mail\n    </label>\n    <small class=\"invalid err_info\" v-if=\"$v.email.$dirty && !$v.email.required\">\n      Поле e-mail не должно быть пустым\n    </small>\n    <small class=\"invalid err_info\" v-else-if=\"$v.email.$dirty && !$v.email.email\">\n      e-mail должен выглядеть пример: example@gmail.com\n    </small>\n    <input class=\"form-input\"\n           type=\"email\"\n           placeholder=\"for_example@gmail.com\"\n           id=\"user_email\"\n           v-model.trim=\"email\"\n           :class=\"{invalid: ($v.email.$dirty && !$v.email.required)\n              || ($v.email.$dirty && !$v.email.email)}\"\n    >\n\n    <label class=\"form-label\" for=\"user_password\">\n      Введите пароль\n      <small class=\"invalid err_info\" v-if=\"$v.password.$dirty && !$v.password.required\">\n        Поле пароль не должно быть пустым\n      </small>\n      <div class=\"wrapper-input\">\n        <input class=\"form-input form-font-password\"\n             type=\"password\"\n             id=\"user_password\"\n             v-model.trim=\"password\"\n             :class=\"{invalid: $v.password.$dirty && !$v.password.required}\"\n        >\n        <img class=\"display-password-pic\"\n           src=\"../assets/img/eye.svg\" alt=\"display\"\n           @click=\"show_hide_password(`user_password`)\">\n      </div>\n    </label><br>\n\n    <button class=\"button btn-log\" type=\"submit\">Войти</button>\n  </form>\n    <div class=\"registerWay\">\n      <p class=\"text-center\">\n        <router-link to=\"/registration\">\n          <span>Зарегистрируйтесь</span>\n        </router-link>\n          , если нет аккаунта.\n      </p>\n  </div>\n  </div>\n</template>\n\n<script>\nimport {required, email, minLength} from \"vuelidate/lib/validators\";\n\nexport default {\n  name: \"Login\",\n\n  data() {\n    return {\n      email: '',\n      password: '',\n      user_name: ''\n    }\n  },\n\n  validations: {\n    email: {\n      email,\n      required\n    },\n    user_name: {\n      required,\n      minLength: minLength(3)\n    },\n    password: {\n      required\n    }\n  },\n\n  methods: {\n    show_hide_password(target){\n      let input = document.getElementById(target);\n      if (input.getAttribute('type') == 'password') {\n        input.setAttribute('type', 'text');\n      } else {\n        input.setAttribute('type', 'password');\n      }\n      return false;\n    },\n    async submitHandler() {\n      if(this.$v.$invalid) {\n        this.$v.$touch()\n        return\n      }\n\n      const formData = {\n        email: this.email,\n        password: this.password,\n        //username: this.email\n      }\n      try {\n        await this.$store.dispatch('login', formData)\n        await this.$router.push('/my_shop')\n      }\n        catch (e) {}\n    },\n  },\n}\n</script>\n\n<style>\n.section-heading {\n  width: 100%;\n  margin-bottom: 23px;\n}\n.section-content {\n  color: #575F6E;\n  line-height: 22px;\n  font-size: 14px;\n}\n.form {\n  border: 1px solid #E2E4E5;\n  border-radius: 10px;\n  padding: 32px;\n  color: #242E42;\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.form-label {\n  position: relative;\n  display: flex;\n  flex-wrap: wrap;\n  font-size: 14px;\n  line-height: 20px;\n  width: 100%;\n}\n\n.form > .form-label:not(:first-child) {\n  margin-top: 32px;\n}\n\n.wrapper-input {\n  display: flex;\n  margin-bottom: 16px;\n}\n\n.display-password-pic {\n  border-bottom: 1px solid #E2E4E5;\n}\n\n.form-input {\n  width: 100%;\n  padding: 8px 16px;\n\n  border-bottom: 1px solid #E2E4E5;\n  border-top: none;\n  border-left: none;\n  border-right: none;\n\n  font-size: 14px;\n  /*line-height: 28px;*/\n}\n\n.form-input:focus {\n  outline: none;\n  border-bottom: 1px solid #2C9AB7;\n}\n\ninput:focus::-webkit-input-placeholder {\n  color: transparent;\n}\n\ninput:focus:-moz-placeholder {\n  color: transparent;\n}\n\n/* FF 4-18 */\ninput:focus::-moz-placeholder {\n  color: transparent;\n}\n\n/* FF 19+ */\ninput:focus:-ms-input-placeholder {\n  color: transparent;\n}\n.btn-log {\n  width: 79px;\n  height: 44px;\n}\n.registerWay {\n  border: 1px solid #E2E4E5;\n  border-radius: 10px;\n  margin-top: 16px;\n}\n.text-center {\n  text-align: center;\n  padding-top: 16px;\n}\n.invalid {\n  border-bottom: 2px solid darkred;\n\n}\n\n.err_info {\n  color: darkred;\n}\n\n</style>"]}]}