{"remainingRequest":"/home/sergey/projects/whatbayGH/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sergey/projects/whatbayGH/src/views/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/sergey/projects/whatbayGH/src/views/Register.vue","mtime":1642522924802},{"path":"/home/sergey/projects/whatbayGH/node_modules/cache-loader/dist/cjs.js","mtime":1643348323584},{"path":"/home/sergey/projects/whatbayGH/node_modules/babel-loader/lib/index.js","mtime":1643348324864},{"path":"/home/sergey/projects/whatbayGH/node_modules/cache-loader/dist/cjs.js","mtime":1643348323584},{"path":"/home/sergey/projects/whatbayGH/node_modules/vue-loader/lib/index.js","mtime":1643348325232}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7cmVxdWlyZWQsIG1pbkxlbmd0aCwgc2FtZUFzLCBlbWFpbH0gZnJvbSAidnVlbGlkYXRlL2xpYi92YWxpZGF0b3JzIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUmVnaXN0ZXIiLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZW1haWw6ICcnLAogICAgICB1c2VyX25hbWU6ICcnLAogICAgICBwYXNzd29yZDogJycsCiAgICAgIHJlcGVhdFBhc3N3b3JkOiAnJywKICAgICAgZmlyc3RuYW1lOiAnJywKICAgICAgbGFzdG5hbWU6ICcnCiAgICB9CiAgfSwKCiAgdmFsaWRhdGlvbnM6IHsKICAgIGVtYWlsOiB7CiAgICAgIGVtYWlsLAogICAgICByZXF1aXJlZAogICAgfSwKICAgIHVzZXJfbmFtZTogewogICAgICByZXF1aXJlZCwKICAgICAgbWluTGVuZ3RoOiBtaW5MZW5ndGgoMykKICAgIH0sCiAgICBmaXJzdG5hbWU6IHsKICAgICAgcmVxdWlyZWQsCiAgICAgIG1pbkxlbmd0aDogbWluTGVuZ3RoKDMpCiAgICB9LAogICAgbGFzdG5hbWU6IHsKICAgICAgcmVxdWlyZWQsCiAgICAgIG1pbkxlbmd0aDogbWluTGVuZ3RoKDMpCiAgICB9LAogICAgcGFzc3dvcmQ6IHsKICAgICAgcmVxdWlyZWQsCiAgICAgIG1pbkxlbmd0aDogbWluTGVuZ3RoKDYpCiAgICB9LAogICAgcmVwZWF0UGFzc3dvcmQ6IHsKICAgICAgc2FtZUFzUGFzc3dvcmQ6IHNhbWVBcygncGFzc3dvcmQnKQogICAgfQogIH0sCgogIG1ldGhvZHM6IHsKICAgIHNob3dfaGlkZV9wYXNzd29yZCh0YXJnZXQpewogICAgICBsZXQgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXJnZXQpOwogICAgICBpZiAoaW5wdXQuZ2V0QXR0cmlidXRlKCd0eXBlJykgPT0gJ3Bhc3N3b3JkJykgewogICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0Jyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3Bhc3N3b3JkJyk7CiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSwKCiAgICBhc3luYyBzdWJtaXRIYW5kbGVyKCkgewogICAgICBpZih0aGlzLiR2LiRpbnZhbGlkKSB7CiAgICAgICAgdGhpcy4kdi4kdG91Y2goKQogICAgICAgIHJldHVybgogICAgICB9CgogICAgICBjb25zdCBmb3JtRGF0YSA9IHsKICAgICAgICB1c2VyX25hbWU6IHRoaXMudXNlcl9uYW1lLAogICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLAogICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkLAogICAgICAgIGNvbmZpcm1QYXNzd29yZDogdGhpcy5yZXBlYXRQYXNzd29yZCwKICAgICAgICBmaXJzdG5hbWU6IHRoaXMuZmlyc3RuYW1lLAogICAgICAgIGxhc3RuYW1lOiB0aGlzLmxhc3RuYW1lCiAgICAgIH0KICAgICAgY29uc29sZS5sb2coZm9ybURhdGEpCiAgICAgIHRyeSB7CiAgICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3JlZ2lzdHJhdGlvbicsIGZvcm1EYXRhKQogICAgICAgIGF3YWl0IHRoaXMuJHJvdXRlci5wdXNoKCcvbXlfc2hvcCcpCiAgICAgIH0gY2F0Y2ggKGUpIHt9CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqHA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n  <div class=\"section-heading\">\n    <h3 class=\"h3\">Регистрация</h3>\n      <p class=\"section-content\">\n        Заполните регистрационные данные. Это займет совсем мало времени\n      </p>\n  </div>\n  <form class=\"form\" action=\"#\" method=\"post\" @submit.prevent=\"submitHandler\">\n    <label class=\"form-label\" for=\"user_email\">\n      Введите ваш e-mail\n    </label>\n    <small class=\"invalid err_info\" v-if=\"$v.email.$dirty && !$v.email.required\">\n      Поле e-mail не должно быть пустым\n    </small>\n    <small class=\"invalid err_info\" v-else-if=\"$v.email.$dirty && !$v.email.email\">\n      e-mail должен выглядеть пример: example@gmail.com\n    </small>\n    <input class=\"form-input\"\n           type=\"email\"\n           placeholder=\"for_example@gmail.com\"\n           id=\"user_email\"\n           v-model.trim=\"email\"\n           :class=\"{invalid: ($v.email.$dirty && !$v.email.required)\n             || ($v.email.$dirty && !$v.email.email)}\"\n    >\n\n    <label class=\"form-label\" for=\"user_name\">\n      Введите ваш login\n    </label>\n    <small class=\"invalid err_info\" v-if=\"($v.user_name.$dirty && !$v.user_name.required)\n        || ($v.user_name.$dirty && !$v.user_name.minLength)\">\n      Поле имя не должно быть пустым, и содержать не менее {{ $v.user_name.$params.minLength.min }} символов.\n    </small>\n    <input class=\"form-input\"\n           type=\"text\"\n           placeholder=\"Name\"\n           id=\"user_name\"\n           v-model.trim=\"user_name\"\n           :class=\"{invalid: ($v.user_name.$dirty && !$v.user_name.required)\n          || ($v.user_name.$dirty && !$v.user_name.minLength)}\">\n\n    <label class=\"form-label\" for=\"firstname\">\n      Введите ваше имя\n    </label>\n    <small class=\"invalid err_info\" v-if=\"($v.firstname.$dirty && !$v.firstname.required)\n        || ($v.firstname.$dirty && !$v.firstname.minLength)\">\n      Поле имя не должно быть пустым, и содержать не менее {{ $v.firstname.$params.minLength.min }} символов.\n    </small>\n    <input class=\"form-input\"\n           type=\"text\"\n           placeholder=\"firstname\"\n           id=\"firstname\"\n           v-model.trim=\"firstname\"\n           :class=\"{invalid: ($v.firstname.$dirty && !$v.firstname.required)\n          || ($v.firstname.$dirty && !$v.firstname.minLength)}\">\n\n    <label class=\"form-label\" for=\"lastname\">\n      Введите ваш lastname\n    </label>\n    <small class=\"invalid err_info\" v-if=\"($v.lastname.$dirty && !$v.lastname.required)\n        || ($v.lastname.$dirty && !$v.lastname.minLength)\">\n      Поле имя не должно быть пустым, и содержать не менее {{ $v.lastname.$params.minLength.min }} символов.\n    </small>\n    <input class=\"form-input\"\n           type=\"text\"\n           placeholder=\"lastname\"\n           id=\"lastname\"\n           v-model.trim=\"lastname\"\n           :class=\"{invalid: ($v.lastname.$dirty && !$v.lastname.required)\n          || ($v.lastname.$dirty && !$v.lastname.minLength)}\">\n\n    <label class=\"form-label\" for=\"user_password\">\n      Установите пароль\n      <small class=\"invalid err_info\" v-if=\"$v.password.$dirty && !$v.password.required\">\n        Поле пароль не должно быть пустым\n      </small>\n      <div class=\"wrapper-input\">\n      <input class=\"form-input form-font-password\"\n             type=\"password\"\n             id=\"user_password\"\n             v-model.trim=\"password\"\n             :class=\"{invalid: ($v.password.$dirty && !$v.password.required)\n             || ($v.password.$dirty && !$v.password.minLength)}\"\n      >\n      <img class=\"display-password-pic\"\n           src=\"../assets/img/eye.svg\" alt=\"display\"\n           @click=\"show_hide_password(`user_password`)\">\n      </div>\n      <small class=\"err_info\" v-if=\"$v.password.$dirty && !$v.password.minLength\">\n        Пароль не менее {{ $v.password.$params.minLength.min }} символов, сейчас {{ password.length }}\n      </small>\n    </label><br>\n\n    <label class=\"form-label\" for=\"user_password_repeat\">\n      Повторите пароль\n      <div class=\"wrapper-input\">\n      <input class=\"form-input form-font-password\"\n             type=\"password\"\n             id=\"user_password_repeat\"\n             v-model.trim=\"repeatPassword\"\n             :class=\"{invalid: ($v.repeatPassword.$dirty && !$v.repeatPassword.required)}\">\n      <img class=\"display-password-pic\"\n           src=\"../assets/img/eye.svg\" alt=\"display\"\n           @click=\"show_hide_password(`user_password_repeat`)\">\n      </div>\n      <small class=\"err_info\" v-if=\"!$v.repeatPassword.sameAsPassword\">\n        Пароли должны совпадать\n      </small>\n    </label><br>\n\n    <button class=\"button btn-reg\" type=\"submit\">Зарегистироваться</button>\n  </form>\n  </div>\n</template>\n\n<script>\nimport {required, minLength, sameAs, email} from \"vuelidate/lib/validators\";\n\nexport default {\n  name: \"Register\",\n\n  data() {\n    return {\n      email: '',\n      user_name: '',\n      password: '',\n      repeatPassword: '',\n      firstname: '',\n      lastname: ''\n    }\n  },\n\n  validations: {\n    email: {\n      email,\n      required\n    },\n    user_name: {\n      required,\n      minLength: minLength(3)\n    },\n    firstname: {\n      required,\n      minLength: minLength(3)\n    },\n    lastname: {\n      required,\n      minLength: minLength(3)\n    },\n    password: {\n      required,\n      minLength: minLength(6)\n    },\n    repeatPassword: {\n      sameAsPassword: sameAs('password')\n    }\n  },\n\n  methods: {\n    show_hide_password(target){\n      let input = document.getElementById(target);\n      if (input.getAttribute('type') == 'password') {\n        input.setAttribute('type', 'text');\n      } else {\n        input.setAttribute('type', 'password');\n      }\n      return false;\n    },\n\n    async submitHandler() {\n      if(this.$v.$invalid) {\n        this.$v.$touch()\n        return\n      }\n\n      const formData = {\n        user_name: this.user_name,\n        email: this.email,\n        password: this.password,\n        confirmPassword: this.repeatPassword,\n        firstname: this.firstname,\n        lastname: this.lastname\n      }\n      console.log(formData)\n      try {\n        await this.$store.dispatch('registration', formData)\n        await this.$router.push('/my_shop')\n      } catch (e) {}\n    }\n  }\n}\n</script>\n\n<style>\n.btn-reg {\n  width: 175px;\n  height: 44px;\n}\n</style>"]}]}