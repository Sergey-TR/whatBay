{"remainingRequest":"/home/sergey/projects/whatbayGH/node_modules/babel-loader/lib/index.js!/home/sergey/projects/whatbayGH/src/store/modules/shop.js","dependencies":[{"path":"/home/sergey/projects/whatbayGH/src/store/modules/shop.js","mtime":1643275710437},{"path":"/home/sergey/projects/whatbayGH/babel.config.js","mtime":1638251051908},{"path":"/home/sergey/projects/whatbayGH/node_modules/cache-loader/dist/cjs.js","mtime":1643348323584},{"path":"/home/sergey/projects/whatbayGH/node_modules/babel-loader/lib/index.js","mtime":1643348324864}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3NlcmdleS9wcm9qZWN0cy93aGF0YmF5R0gvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgQVBJIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvY29tcG9zYWJsZXMvaW5pdEFwaSI7CmltcG9ydCB7IGJhc2VVUkwgfSBmcm9tICIuLi8uLi9jb25zdGFuY2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgYWN0aW9uczogewogICAgZ2V0T3B0aW9uc0xpc3Q6IGZ1bmN0aW9uIGdldE9wdGlvbnNMaXN0KGN0eCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXMsIHNob3BzT3B0aW9uTGlzdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKGJhc2VVUkwgKyAic2hvcHMiKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIHNob3BzT3B0aW9uTGlzdCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBjdHguY29tbWl0KCd1cGRhdGVTaG9wc09wdGlvbkxpc3QnLCBzaG9wc09wdGlvbkxpc3QpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTA7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2VycicsIF9jb250ZXh0LnQwKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoX2NvbnRleHQudDApOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1swLCAxMF1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY3JlYXRlTmV3U2hvcDogZnVuY3Rpb24gY3JlYXRlTmV3U2hvcChfcmVmLCBfcmVmMikgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgZGlzcGF0Y2gsIGNvbW1pdCwgc2hvcF9uYW1lLCB1c2VyX2lkOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkaXNwYXRjaCA9IF9yZWYuZGlzcGF0Y2gsIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICAgICAgc2hvcF9uYW1lID0gX3JlZjIuc2hvcF9uYW1lLCB1c2VyX2lkID0gX3JlZjIudXNlcl9pZDsKICAgICAgICAgICAgICAgIEFQSS5wb3N0KGJhc2VVUkwgKyAnc2hvcHMnLCB7CiAgICAgICAgICAgICAgICAgIHNob3BfbmFtZTogc2hvcF9uYW1lLAogICAgICAgICAgICAgICAgICB1c2VyX2lkOiB1c2VyX2lkCiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Nob3AnLCByZXMuZGF0YSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0U2hvcEZyb21Vc2VySWQ6IGZ1bmN0aW9uIGdldFNob3BGcm9tVXNlcklkKF9yZWYzLCBfcmVmNCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgZGlzcGF0Y2gsIGNvbW1pdCwgaWQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRpc3BhdGNoID0gX3JlZjMuZGlzcGF0Y2gsIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgICAgICAgICAgIGlkID0gX3JlZjQuaWQ7CiAgICAgICAgICAgICAgICBBUEkuZ2V0KGJhc2VVUkwgKyAnc2hvcHMnICsgJz91c2VyX2lkPScgKyBpZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIHZhciBzaG9wVXNlcklkID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICAgIGNvbW1pdCgndXBkYXRlU2hvcFVzZXJJZCcsIHNob3BVc2VySWQpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICB1cGRhdGVBbGxTaG9wc0xpc3Q6IGZ1bmN0aW9uIHVwZGF0ZUFsbFNob3BzTGlzdChzdGF0ZSwgc2hvcHNMaXN0KSB7CiAgICAgIHN0YXRlLnNob3BzTGlzdCA9IHNob3BzTGlzdDsKICAgIH0sCiAgICB1cGRhdGVTaG9wc09wdGlvbkxpc3Q6IGZ1bmN0aW9uIHVwZGF0ZVNob3BzT3B0aW9uTGlzdChzdGF0ZSwgc2hvcE9wdGlvbkxpc3QpIHsKICAgICAgc3RhdGUuc2hvcHNPcHRpb25MaXN0ID0gc2hvcE9wdGlvbkxpc3Q7CiAgICB9LAogICAgdXBkYXRlU2hvcFVzZXJJZDogZnVuY3Rpb24gdXBkYXRlU2hvcFVzZXJJZChzdGF0ZSwgc2hvcFVzZXJJZCkgewogICAgICBzdGF0ZS5zaG9wVXNlcklkID0gc2hvcFVzZXJJZDsKICAgIH0KICB9LAogIHN0YXRlOiB7CiAgICBzaG9wc0xpc3Q6IFtdLAogICAgc2hvcHNPcHRpb25MaXN0OiBbXSwKICAgIHNob3BVc2VySWQ6IFtdCiAgfSwKICBnZXR0ZXJzOiB7CiAgICBnZXRTaG9wc0xpc3Q6IGZ1bmN0aW9uIGdldFNob3BzTGlzdChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuc2hvcHNMaXN0OwogICAgfSwKICAgIGdldFNob3BzT3B0aW9uTGlzdDogZnVuY3Rpb24gZ2V0U2hvcHNPcHRpb25MaXN0KHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5zaG9wc09wdGlvbkxpc3Q7CiAgICB9LAogICAgZ2V0U2hvcFVzZXJJZDogZnVuY3Rpb24gZ2V0U2hvcFVzZXJJZChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuc2hvcFVzZXJJZDsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/home/sergey/projects/whatbayGH/src/store/modules/shop.js"],"names":["axios","API","baseURL","actions","getOptionsList","ctx","fetch","res","json","shopsOptionList","commit","console","log","error","createNewShop","dispatch","shop_name","user_id","post","then","localStorage","setItem","data","getShopFromUserId","id","get","shopUserId","mutations","updateAllShopsList","state","shopsList","updateShopsOptionList","shopOptionList","updateShopUserId","getters","getShopsList","getShopsOptionList","getShopUserId"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport API from \"../../components/composables/initApi\";\nimport {baseURL} from \"../../constance\";\n\nexport default {\n    actions: {\n        async getOptionsList(ctx) {\n            try {\n                const res = await fetch(\n                    baseURL + \"shops\"\n            );\n                const shopsOptionList = await res.json()\n                ctx.commit('updateShopsOptionList', shopsOptionList)\n            } catch (e) {\n                console.log('err', e)\n                console.error(e)\n            }\n        },\n        async createNewShop({dispatch, commit}, {shop_name, user_id}) {\n            API.post(baseURL + 'shops', {shop_name, user_id})\n                .then(res => {\n                    localStorage.setItem('shop', res.data)\n                })\n        },\n        async getShopFromUserId({dispatch, commit}, {id}) {\n            API.get(baseURL + 'shops' + '?user_id=' + id)\n                .then(res => {\n                   const shopUserId = res.data\n                    commit('updateShopUserId', shopUserId)\n                })\n        }\n    },\n    mutations: {\n        updateAllShopsList(state, shopsList) {\n            state.shopsList = shopsList\n        },\n        updateShopsOptionList(state, shopOptionList) {\n            state.shopsOptionList = shopOptionList\n        },\n        updateShopUserId(state, shopUserId) {\n            state.shopUserId = shopUserId\n        }\n    },\n    state: {\n        shopsList: [],\n        shopsOptionList: [],\n        shopUserId: []\n    },\n    getters: {\n        getShopsList(state) {\n            return state.shopsList\n        },\n        getShopsOptionList(state) {\n            return state.shopsOptionList\n        },\n        getShopUserId(state) {\n            return state.shopUserId\n        }\n    }\n}"]}]}