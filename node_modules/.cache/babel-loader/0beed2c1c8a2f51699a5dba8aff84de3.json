{"remainingRequest":"/home/sergey/projects/whatbayGH/node_modules/babel-loader/lib/index.js!/home/sergey/projects/whatbayGH/src/router/router.js","dependencies":[{"path":"/home/sergey/projects/whatbayGH/src/router/router.js","mtime":1642941289010},{"path":"/home/sergey/projects/whatbayGH/babel.config.js","mtime":1638251051908},{"path":"/home/sergey/projects/whatbayGH/node_modules/cache-loader/dist/cjs.js","mtime":1643348323584},{"path":"/home/sergey/projects/whatbayGH/node_modules/babel-loader/lib/index.js","mtime":1643348324864}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgVnVlIGZyb20gInZ1ZSI7CmltcG9ydCBSb3V0ZXIgZnJvbSAndnVlLXJvdXRlcic7ClZ1ZS51c2UoUm91dGVyKTsKdmFyIHJvdXRlciA9IG5ldyBSb3V0ZXIoewogIG1vZGU6ICdoaXN0b3J5JywKICBiYXNlOiBwcm9jZXNzLmVudi5CQVNFX1VSTCwKICByb3V0ZXM6IFt7CiAgICBwYXRoOiAnLycsCiAgICBuYW1lOiAnaG9tZScsCiAgICBtZXRhOiB7CiAgICAgIGxheW91dDogJ21haW4nCiAgICB9LAogICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoIi4uL3ZpZXdzL0hvbWUiKTsKICAgIH0KICB9LCB7CiAgICBwYXRoOiAnL3JlZ2lzdHJhdGlvbicsCiAgICBuYW1lOiAncmVnaXN0cmF0aW9uJywKICAgIG1ldGE6IHsKICAgICAgbGF5b3V0OiAnbWFpbicKICAgIH0sCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiLi4vdmlld3MvUmVnaXN0ZXIiKTsKICAgIH0KICB9LCB7CiAgICBwYXRoOiAnL2xvZ2luJywKICAgIG5hbWU6ICdsb2dpbicsCiAgICBtZXRhOiB7CiAgICAgIGxheW91dDogJ21haW4nCiAgICB9LAogICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoIi4uL3ZpZXdzL0xvZ2luIik7CiAgICB9CiAgfSwgewogICAgcGF0aDogJy9teV9zaG9wJywKICAgIG5hbWU6ICdteV9zaG9wJywKICAgIG1ldGE6IHsKICAgICAgbGF5b3V0OiAnbWFpbicsCiAgICAgIGF1dGg6IHRydWUKICAgIH0sCiAgICBwcm9wczogdHJ1ZSwKICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICByZXR1cm4gaW1wb3J0KCIuLi92aWV3cy9NeVNob3BzIik7CiAgICB9CiAgfSwgewogICAgcGF0aDogJy9teV9zaG9wc19zaG9wLzppZC86c2hvcC86ZGF5JywKICAgIG5hbWU6ICdzaG9wJywKICAgIG1ldGE6IHsKICAgICAgbGF5b3V0OiAnbWFpbicsCiAgICAgIGF1dGg6IHRydWUKICAgIH0sCiAgICBwcm9wczogdHJ1ZSwKICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICByZXR1cm4gaW1wb3J0KCIuLi9jb21wb25lbnRzL3Nob3AvU2hvcCIpOwogICAgfQogIH0sIHsKICAgIHBhdGg6ICcvY2FsZW5kYXInLAogICAgbmFtZTogJ2NhbGVuZGFyJywKICAgIG1ldGE6IHsKICAgICAgbGF5b3V0OiAnbWFpbicsCiAgICAgIGF1dGg6IHRydWUKICAgIH0sCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiLi4vdmlld3MvQ2FsZW5kYXIiKTsKICAgIH0KICB9LCB7CiAgICBwYXRoOiAnL25ld0xpc3QnLAogICAgbmFtZTogJ25ld0xpc3QnLAogICAgbWV0YTogewogICAgICBsYXlvdXQ6ICdtYWluJywKICAgICAgYXV0aDogdHJ1ZQogICAgfSwKICAgIHByb3BzOiB0cnVlLAogICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoIi4uL3ZpZXdzL0NyZWF0ZUxpc3QiKTsKICAgIH0KICB9LCB7CiAgICBwYXRoOiAnL2NyZWF0ZS9wcm9kdWN0LzpzaG9wLzpkYXkvOmlkJywKICAgIG5hbWU6ICdjcmVhdGVQcm9kdWN0JywKICAgIG1ldGE6IHsKICAgICAgbGF5b3V0OiAnbWFpbicsCiAgICAgIGF1dGg6IHRydWUKICAgIH0sCiAgICBwcm9wczogdHJ1ZSwKICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICByZXR1cm4gaW1wb3J0KCIuLi92aWV3cy9DcmVhdGVQcm9kdWN0Iik7CiAgICB9CiAgfV0KfSk7CnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIHZhciB0b2tlbiA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2F2ZVRva2VuJyk7CiAgdmFyIHJlcXVpcmVBdXRoID0gdG8ubWF0Y2hlZC5zb21lKGZ1bmN0aW9uIChyZWNvcmQpIHsKICAgIHJldHVybiByZWNvcmQubWV0YS5hdXRoOwogIH0pOwoKICBpZiAocmVxdWlyZUF1dGggJiYgIXRva2VuKSB7CiAgICBuZXh0KCcvbG9naW4nKTsKICB9IGVsc2UgewogICAgbmV4dCgpOwogIH0KfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["/home/sergey/projects/whatbayGH/src/router/router.js"],"names":["Vue","Router","use","router","mode","base","process","env","BASE_URL","routes","path","name","meta","layout","component","auth","props","beforeEach","to","from","next","token","window","localStorage","getItem","requireAuth","matched","some","record"],"mappings":";;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AAEAD,GAAG,CAACE,GAAJ,CAAQD,MAAR;AAEC,IAAME,MAAM,GAAG,IAAIF,MAAJ,CAAW;AACvBG,EAAAA,IAAI,EAAE,SADiB;AAEvBC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAFK;AAGvBC,EAAAA,MAAM,EAAE,CACJ;AACIC,IAAAA,IAAI,EAAE,GADV;AAEIC,IAAAA,IAAI,EAAE,MAFV;AAGIC,IAAAA,IAAI,EAAE;AAACC,MAAAA,MAAM,EAAE;AAAT,KAHV;AAIIC,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,eAAP,CAAN;AAAA;AAJf,GADI,EAOJ;AACIJ,IAAAA,IAAI,EAAE,eADV;AAEIC,IAAAA,IAAI,EAAE,cAFV;AAGIC,IAAAA,IAAI,EAAE;AAACC,MAAAA,MAAM,EAAE;AAAT,KAHV;AAIIC,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,mBAAP,CAAN;AAAA;AAJf,GAPI,EAaJ;AACIJ,IAAAA,IAAI,EAAE,QADV;AAEIC,IAAAA,IAAI,EAAE,OAFV;AAGIC,IAAAA,IAAI,EAAE;AAACC,MAAAA,MAAM,EAAE;AAAT,KAHV;AAIIC,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,gBAAP,CAAN;AAAA;AAJf,GAbI,EAmBJ;AACIJ,IAAAA,IAAI,EAAE,UADV;AAEIC,IAAAA,IAAI,EAAE,SAFV;AAGIC,IAAAA,IAAI,EAAE;AAACC,MAAAA,MAAM,EAAE,MAAT;AAAiBE,MAAAA,IAAI,EAAE;AAAvB,KAHV;AAIIC,IAAAA,KAAK,EAAE,IAJX;AAKIF,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,kBAAP,CAAN;AAAA;AALf,GAnBI,EA0BJ;AACIJ,IAAAA,IAAI,EAAE,+BADV;AAEIC,IAAAA,IAAI,EAAE,MAFV;AAGIC,IAAAA,IAAI,EAAE;AAACC,MAAAA,MAAM,EAAE,MAAT;AAAiBE,MAAAA,IAAI,EAAE;AAAvB,KAHV;AAIIC,IAAAA,KAAK,EAAE,IAJX;AAKIF,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,yBAAP,CAAN;AAAA;AALf,GA1BI,EAiCJ;AACIJ,IAAAA,IAAI,EAAE,WADV;AAEIC,IAAAA,IAAI,EAAE,UAFV;AAGIC,IAAAA,IAAI,EAAE;AAACC,MAAAA,MAAM,EAAE,MAAT;AAAiBE,MAAAA,IAAI,EAAE;AAAvB,KAHV;AAIID,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,mBAAP,CAAN;AAAA;AAJf,GAjCI,EAuCJ;AACIJ,IAAAA,IAAI,EAAE,UADV;AAEIC,IAAAA,IAAI,EAAE,SAFV;AAGIC,IAAAA,IAAI,EAAE;AAACC,MAAAA,MAAM,EAAE,MAAT;AAAiBE,MAAAA,IAAI,EAAE;AAAvB,KAHV;AAIIC,IAAAA,KAAK,EAAE,IAJX;AAKIF,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,qBAAP,CAAN;AAAA;AALf,GAvCI,EA8CJ;AACIJ,IAAAA,IAAI,EAAE,gCADV;AAEIC,IAAAA,IAAI,EAAE,eAFV;AAGIC,IAAAA,IAAI,EAAE;AAACC,MAAAA,MAAM,EAAE,MAAT;AAAiBE,MAAAA,IAAI,EAAE;AAAvB,KAHV;AAIIC,IAAAA,KAAK,EAAE,IAJX;AAKIF,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,wBAAP,CAAN;AAAA;AALf,GA9CI;AAHe,CAAX,CAAf;AA4DDX,MAAM,CAACc,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClC,MAAMC,KAAK,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,WAA5B,CAAd;AACA,MAAMC,WAAW,GAAGP,EAAE,CAACQ,OAAH,CAAWC,IAAX,CAAgB,UAAAC,MAAM;AAAA,WAAIA,MAAM,CAAChB,IAAP,CAAYG,IAAhB;AAAA,GAAtB,CAApB;;AACA,MAAIU,WAAW,IAAI,CAACJ,KAApB,EAA2B;AACvBD,IAAAA,IAAI,CAAC,QAAD,CAAJ;AACH,GAFD,MAEO;AACHA,IAAAA,IAAI;AACP;AACJ,CARD;AAUA,eAAejB,MAAf","sourcesContent":["import Vue from \"vue\";\nimport Router from 'vue-router';\n\nVue.use(Router)\n\n const router = new Router({\n    mode: 'history',\n    base: process.env.BASE_URL,\n    routes: [\n        {\n            path: '/',\n            name: 'home',\n            meta: {layout: 'main'},\n            component: () => import(\"../views/Home\")\n        },\n        {\n            path: '/registration',\n            name: 'registration',\n            meta: {layout: 'main'},\n            component: () => import(\"../views/Register\")\n        },\n        {\n            path: '/login',\n            name: 'login',\n            meta: {layout: 'main'},\n            component: () => import(\"../views/Login\")\n        },\n        {\n            path: '/my_shop',\n            name: 'my_shop',\n            meta: {layout: 'main', auth: true},\n            props: true,\n            component: () => import(\"../views/MyShops\")\n        },\n        {\n            path: '/my_shops_shop/:id/:shop/:day',\n            name: 'shop',\n            meta: {layout: 'main', auth: true},\n            props: true,\n            component: () => import(\"../components/shop/Shop\")\n        },\n        {\n            path: '/calendar',\n            name: 'calendar',\n            meta: {layout: 'main', auth: true},\n            component: () => import(\"../views/Calendar\")\n        },\n        {\n            path: '/newList',\n            name: 'newList',\n            meta: {layout: 'main', auth: true},\n            props: true,\n            component: () => import(\"../views/CreateList\")\n        },\n        {\n            path: '/create/product/:shop/:day/:id',\n            name: 'createProduct',\n            meta: {layout: 'main', auth: true},\n            props: true,\n            component: () => import(\"../views/CreateProduct\")\n        }\n\n    ]\n})\n\nrouter.beforeEach((to, from, next) => {\n    const token = window.localStorage.getItem('saveToken')\n    const requireAuth = to.matched.some(record => record.meta.auth)\n    if (requireAuth && !token) {\n        next('/login')\n    } else {\n        next()\n    }\n})\n\nexport default router"]}]}