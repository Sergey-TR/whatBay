{"remainingRequest":"/home/sergey/projects/whatbayGH/node_modules/babel-loader/lib/index.js!/home/sergey/projects/whatbayGH/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/sergey/projects/whatbayGH/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sergey/projects/whatbayGH/src/views/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/sergey/projects/whatbayGH/src/views/Register.vue","mtime":1642522924802},{"path":"/home/sergey/projects/whatbayGH/babel.config.js","mtime":1638251051908},{"path":"/home/sergey/projects/whatbayGH/node_modules/cache-loader/dist/cjs.js","mtime":1643348323584},{"path":"/home/sergey/projects/whatbayGH/node_modules/babel-loader/lib/index.js","mtime":1643348324864},{"path":"/home/sergey/projects/whatbayGH/node_modules/cache-loader/dist/cjs.js","mtime":1643348323584},{"path":"/home/sergey/projects/whatbayGH/node_modules/vue-loader/lib/index.js","mtime":1643348325232}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3NlcmdleS9wcm9qZWN0cy93aGF0YmF5R0gvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IHJlcXVpcmVkLCBtaW5MZW5ndGgsIHNhbWVBcywgZW1haWwgfSBmcm9tICJ2dWVsaWRhdGUvbGliL3ZhbGlkYXRvcnMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlJlZ2lzdGVyIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZW1haWw6ICcnLAogICAgICB1c2VyX25hbWU6ICcnLAogICAgICBwYXNzd29yZDogJycsCiAgICAgIHJlcGVhdFBhc3N3b3JkOiAnJywKICAgICAgZmlyc3RuYW1lOiAnJywKICAgICAgbGFzdG5hbWU6ICcnCiAgICB9OwogIH0sCiAgdmFsaWRhdGlvbnM6IHsKICAgIGVtYWlsOiB7CiAgICAgIGVtYWlsOiBlbWFpbCwKICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkCiAgICB9LAogICAgdXNlcl9uYW1lOiB7CiAgICAgIHJlcXVpcmVkOiByZXF1aXJlZCwKICAgICAgbWluTGVuZ3RoOiBtaW5MZW5ndGgoMykKICAgIH0sCiAgICBmaXJzdG5hbWU6IHsKICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkLAogICAgICBtaW5MZW5ndGg6IG1pbkxlbmd0aCgzKQogICAgfSwKICAgIGxhc3RuYW1lOiB7CiAgICAgIHJlcXVpcmVkOiByZXF1aXJlZCwKICAgICAgbWluTGVuZ3RoOiBtaW5MZW5ndGgoMykKICAgIH0sCiAgICBwYXNzd29yZDogewogICAgICByZXF1aXJlZDogcmVxdWlyZWQsCiAgICAgIG1pbkxlbmd0aDogbWluTGVuZ3RoKDYpCiAgICB9LAogICAgcmVwZWF0UGFzc3dvcmQ6IHsKICAgICAgc2FtZUFzUGFzc3dvcmQ6IHNhbWVBcygncGFzc3dvcmQnKQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc2hvd19oaWRlX3Bhc3N3b3JkOiBmdW5jdGlvbiBzaG93X2hpZGVfcGFzc3dvcmQodGFyZ2V0KSB7CiAgICAgIHZhciBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldCk7CgogICAgICBpZiAoaW5wdXQuZ2V0QXR0cmlidXRlKCd0eXBlJykgPT0gJ3Bhc3N3b3JkJykgewogICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0Jyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3Bhc3N3b3JkJyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCiAgICBzdWJtaXRIYW5kbGVyOiBmdW5jdGlvbiBzdWJtaXRIYW5kbGVyKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgZm9ybURhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCFfdGhpcy4kdi4kaW52YWxpZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMuJHYuJHRvdWNoKCk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGZvcm1EYXRhID0gewogICAgICAgICAgICAgICAgICB1c2VyX25hbWU6IF90aGlzLnVzZXJfbmFtZSwKICAgICAgICAgICAgICAgICAgZW1haWw6IF90aGlzLmVtYWlsLAogICAgICAgICAgICAgICAgICBwYXNzd29yZDogX3RoaXMucGFzc3dvcmQsCiAgICAgICAgICAgICAgICAgIGNvbmZpcm1QYXNzd29yZDogX3RoaXMucmVwZWF0UGFzc3dvcmQsCiAgICAgICAgICAgICAgICAgIGZpcnN0bmFtZTogX3RoaXMuZmlyc3RuYW1lLAogICAgICAgICAgICAgICAgICBsYXN0bmFtZTogX3RoaXMubGFzdG5hbWUKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhmb3JtRGF0YSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgncmVnaXN0cmF0aW9uJywgZm9ybURhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHJvdXRlci5wdXNoKCcvbXlfc2hvcCcpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTI7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDUpOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1s1LCAxMl1dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqHA,SAAA,QAAA,EAAA,SAAA,EAAA,MAAA,EAAA,KAAA,QAAA,0BAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAIA,MAAA,cAAA,EAAA,EAJA;AAKA,MAAA,SAAA,EAAA,EALA;AAMA,MAAA,QAAA,EAAA;AANA,KAAA;AAQA,GAZA;AAcA,EAAA,WAAA,EAAA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,KAAA,EAAA,KADA;AAEA,MAAA,QAAA,EAAA;AAFA,KADA;AAKA,IAAA,SAAA,EAAA;AACA,MAAA,QAAA,EAAA,QADA;AAEA,MAAA,SAAA,EAAA,SAAA,CAAA,CAAA;AAFA,KALA;AASA,IAAA,SAAA,EAAA;AACA,MAAA,QAAA,EAAA,QADA;AAEA,MAAA,SAAA,EAAA,SAAA,CAAA,CAAA;AAFA,KATA;AAaA,IAAA,QAAA,EAAA;AACA,MAAA,QAAA,EAAA,QADA;AAEA,MAAA,SAAA,EAAA,SAAA,CAAA,CAAA;AAFA,KAbA;AAiBA,IAAA,QAAA,EAAA;AACA,MAAA,QAAA,EAAA,QADA;AAEA,MAAA,SAAA,EAAA,SAAA,CAAA,CAAA;AAFA,KAjBA;AAqBA,IAAA,cAAA,EAAA;AACA,MAAA,cAAA,EAAA,MAAA,CAAA,UAAA;AADA;AArBA,GAdA;AAwCA,EAAA,OAAA,EAAA;AACA,IAAA,kBADA,8BACA,MADA,EACA;AACA,UAAA,KAAA,GAAA,QAAA,CAAA,cAAA,CAAA,MAAA,CAAA;;AACA,UAAA,KAAA,CAAA,YAAA,CAAA,MAAA,KAAA,UAAA,EAAA;AACA,QAAA,KAAA,CAAA,YAAA,CAAA,MAAA,EAAA,MAAA;AACA,OAFA,MAEA;AACA,QAAA,KAAA,CAAA,YAAA,CAAA,MAAA,EAAA,UAAA;AACA;;AACA,aAAA,KAAA;AACA,KATA;AAWA,IAAA,aAXA,2BAWA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,KAAA,CAAA,EAAA,CAAA,QADA;AAAA;AAAA;AAAA;;AAEA,gBAAA,KAAA,CAAA,EAAA,CAAA,MAAA;;AAFA;;AAAA;AAMA,gBAAA,QANA,GAMA;AACA,kBAAA,SAAA,EAAA,KAAA,CAAA,SADA;AAEA,kBAAA,KAAA,EAAA,KAAA,CAAA,KAFA;AAGA,kBAAA,QAAA,EAAA,KAAA,CAAA,QAHA;AAIA,kBAAA,eAAA,EAAA,KAAA,CAAA,cAJA;AAKA,kBAAA,SAAA,EAAA,KAAA,CAAA,SALA;AAMA,kBAAA,QAAA,EAAA,KAAA,CAAA;AANA,iBANA;AAcA,gBAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AAdA;AAAA;AAAA,uBAgBA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,cAAA,EAAA,QAAA,CAhBA;;AAAA;AAAA;AAAA,uBAiBA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,UAAA,CAjBA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAmBA;AA9BA;AAxCA,CAAA","sourcesContent":["<template>\n  <div>\n  <div class=\"section-heading\">\n    <h3 class=\"h3\">Регистрация</h3>\n      <p class=\"section-content\">\n        Заполните регистрационные данные. Это займет совсем мало времени\n      </p>\n  </div>\n  <form class=\"form\" action=\"#\" method=\"post\" @submit.prevent=\"submitHandler\">\n    <label class=\"form-label\" for=\"user_email\">\n      Введите ваш e-mail\n    </label>\n    <small class=\"invalid err_info\" v-if=\"$v.email.$dirty && !$v.email.required\">\n      Поле e-mail не должно быть пустым\n    </small>\n    <small class=\"invalid err_info\" v-else-if=\"$v.email.$dirty && !$v.email.email\">\n      e-mail должен выглядеть пример: example@gmail.com\n    </small>\n    <input class=\"form-input\"\n           type=\"email\"\n           placeholder=\"for_example@gmail.com\"\n           id=\"user_email\"\n           v-model.trim=\"email\"\n           :class=\"{invalid: ($v.email.$dirty && !$v.email.required)\n             || ($v.email.$dirty && !$v.email.email)}\"\n    >\n\n    <label class=\"form-label\" for=\"user_name\">\n      Введите ваш login\n    </label>\n    <small class=\"invalid err_info\" v-if=\"($v.user_name.$dirty && !$v.user_name.required)\n        || ($v.user_name.$dirty && !$v.user_name.minLength)\">\n      Поле имя не должно быть пустым, и содержать не менее {{ $v.user_name.$params.minLength.min }} символов.\n    </small>\n    <input class=\"form-input\"\n           type=\"text\"\n           placeholder=\"Name\"\n           id=\"user_name\"\n           v-model.trim=\"user_name\"\n           :class=\"{invalid: ($v.user_name.$dirty && !$v.user_name.required)\n          || ($v.user_name.$dirty && !$v.user_name.minLength)}\">\n\n    <label class=\"form-label\" for=\"firstname\">\n      Введите ваше имя\n    </label>\n    <small class=\"invalid err_info\" v-if=\"($v.firstname.$dirty && !$v.firstname.required)\n        || ($v.firstname.$dirty && !$v.firstname.minLength)\">\n      Поле имя не должно быть пустым, и содержать не менее {{ $v.firstname.$params.minLength.min }} символов.\n    </small>\n    <input class=\"form-input\"\n           type=\"text\"\n           placeholder=\"firstname\"\n           id=\"firstname\"\n           v-model.trim=\"firstname\"\n           :class=\"{invalid: ($v.firstname.$dirty && !$v.firstname.required)\n          || ($v.firstname.$dirty && !$v.firstname.minLength)}\">\n\n    <label class=\"form-label\" for=\"lastname\">\n      Введите ваш lastname\n    </label>\n    <small class=\"invalid err_info\" v-if=\"($v.lastname.$dirty && !$v.lastname.required)\n        || ($v.lastname.$dirty && !$v.lastname.minLength)\">\n      Поле имя не должно быть пустым, и содержать не менее {{ $v.lastname.$params.minLength.min }} символов.\n    </small>\n    <input class=\"form-input\"\n           type=\"text\"\n           placeholder=\"lastname\"\n           id=\"lastname\"\n           v-model.trim=\"lastname\"\n           :class=\"{invalid: ($v.lastname.$dirty && !$v.lastname.required)\n          || ($v.lastname.$dirty && !$v.lastname.minLength)}\">\n\n    <label class=\"form-label\" for=\"user_password\">\n      Установите пароль\n      <small class=\"invalid err_info\" v-if=\"$v.password.$dirty && !$v.password.required\">\n        Поле пароль не должно быть пустым\n      </small>\n      <div class=\"wrapper-input\">\n      <input class=\"form-input form-font-password\"\n             type=\"password\"\n             id=\"user_password\"\n             v-model.trim=\"password\"\n             :class=\"{invalid: ($v.password.$dirty && !$v.password.required)\n             || ($v.password.$dirty && !$v.password.minLength)}\"\n      >\n      <img class=\"display-password-pic\"\n           src=\"../assets/img/eye.svg\" alt=\"display\"\n           @click=\"show_hide_password(`user_password`)\">\n      </div>\n      <small class=\"err_info\" v-if=\"$v.password.$dirty && !$v.password.minLength\">\n        Пароль не менее {{ $v.password.$params.minLength.min }} символов, сейчас {{ password.length }}\n      </small>\n    </label><br>\n\n    <label class=\"form-label\" for=\"user_password_repeat\">\n      Повторите пароль\n      <div class=\"wrapper-input\">\n      <input class=\"form-input form-font-password\"\n             type=\"password\"\n             id=\"user_password_repeat\"\n             v-model.trim=\"repeatPassword\"\n             :class=\"{invalid: ($v.repeatPassword.$dirty && !$v.repeatPassword.required)}\">\n      <img class=\"display-password-pic\"\n           src=\"../assets/img/eye.svg\" alt=\"display\"\n           @click=\"show_hide_password(`user_password_repeat`)\">\n      </div>\n      <small class=\"err_info\" v-if=\"!$v.repeatPassword.sameAsPassword\">\n        Пароли должны совпадать\n      </small>\n    </label><br>\n\n    <button class=\"button btn-reg\" type=\"submit\">Зарегистироваться</button>\n  </form>\n  </div>\n</template>\n\n<script>\nimport {required, minLength, sameAs, email} from \"vuelidate/lib/validators\";\n\nexport default {\n  name: \"Register\",\n\n  data() {\n    return {\n      email: '',\n      user_name: '',\n      password: '',\n      repeatPassword: '',\n      firstname: '',\n      lastname: ''\n    }\n  },\n\n  validations: {\n    email: {\n      email,\n      required\n    },\n    user_name: {\n      required,\n      minLength: minLength(3)\n    },\n    firstname: {\n      required,\n      minLength: minLength(3)\n    },\n    lastname: {\n      required,\n      minLength: minLength(3)\n    },\n    password: {\n      required,\n      minLength: minLength(6)\n    },\n    repeatPassword: {\n      sameAsPassword: sameAs('password')\n    }\n  },\n\n  methods: {\n    show_hide_password(target){\n      let input = document.getElementById(target);\n      if (input.getAttribute('type') == 'password') {\n        input.setAttribute('type', 'text');\n      } else {\n        input.setAttribute('type', 'password');\n      }\n      return false;\n    },\n\n    async submitHandler() {\n      if(this.$v.$invalid) {\n        this.$v.$touch()\n        return\n      }\n\n      const formData = {\n        user_name: this.user_name,\n        email: this.email,\n        password: this.password,\n        confirmPassword: this.repeatPassword,\n        firstname: this.firstname,\n        lastname: this.lastname\n      }\n      console.log(formData)\n      try {\n        await this.$store.dispatch('registration', formData)\n        await this.$router.push('/my_shop')\n      } catch (e) {}\n    }\n  }\n}\n</script>\n\n<style>\n.btn-reg {\n  width: 175px;\n  height: 44px;\n}\n</style>"],"sourceRoot":"src/views"}]}