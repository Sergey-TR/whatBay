{"remainingRequest":"/home/sergey/projects/whatbayGH/node_modules/babel-loader/lib/index.js!/home/sergey/projects/whatbayGH/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/sergey/projects/whatbayGH/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sergey/projects/whatbayGH/src/components/shop/MyShops.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/sergey/projects/whatbayGH/src/components/shop/MyShops.vue","mtime":1643295873048},{"path":"/home/sergey/projects/whatbayGH/babel.config.js","mtime":1638251051908},{"path":"/home/sergey/projects/whatbayGH/node_modules/cache-loader/dist/cjs.js","mtime":1643348323584},{"path":"/home/sergey/projects/whatbayGH/node_modules/babel-loader/lib/index.js","mtime":1643348324864},{"path":"/home/sergey/projects/whatbayGH/node_modules/cache-loader/dist/cjs.js","mtime":1643348323584},{"path":"/home/sergey/projects/whatbayGH/node_modules/vue-loader/lib/index.js","mtime":1643348325232}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3NlcmdleS9wcm9qZWN0cy93aGF0YmF5R0gvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIgZnJvbSAiL2hvbWUvc2VyZ2V5L3Byb2plY3RzL3doYXRiYXlHSC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlci5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL3NlcmdleS9wcm9qZWN0cy93aGF0YmF5R0gvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgU2hvcExpc3RJdGVtIGZyb20gIi4vU2hvcExpc3RJdGVtIjsKaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgdXNlckRhdGEgZnJvbSAiLi4vY29tcG9zYWJsZXMvdXNlckRhdGEiOwppbXBvcnQgZ2V0SVNPIGZyb20gIi4uL2NvbXBvc2FibGVzL2dldElTTyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTXlTaG9wcyIsCiAgY29tcG9uZW50czogewogICAgU2hvcExpc3RJdGVtOiBTaG9wTGlzdEl0ZW0KICB9LAogIHByb3BzOiBbJ2lkVXNlciddLAogIG1ldGhvZHM6IHsKICAgIGdldElkOiBmdW5jdGlvbiBnZXRJZCgpIHsKICAgICAgdmFyIHVzZXJfaWQgPSB7CiAgICAgICAgaWQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzYXZlVXNlcklkJykKICAgICAgfTsKICAgICAgcmV0dXJuIHVzZXJfaWQ7CiAgICB9CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsnZ2V0U2hvcHNMaXN0JywgJ2dldFVzZXInLCAnZ2V0U2hvcFVzZXJJZCcsICdnZXRVc2VySWQnLCAnZ2V0U2hvcHNPcHRpb25MaXN0JywgJ2dldExpc3RVc2VySWQnLCAnZ2V0UHJvZHVjdFVzZXJJZCcsICdnZXRDYXRlZ29yeVVzZXJJZCcsICd1c2VySWQnXSkpLCB7fSwgewogICAgZGF0YVVzZXJJZDogZnVuY3Rpb24gZGF0YVVzZXJJZCgpIHsKICAgICAgdmFyIHNob3BzID0gdGhpcy5nZXRTaG9wVXNlcklkOwogICAgICB2YXIgbGlzdHMgPSB0aGlzLmdldExpc3RVc2VySWQ7CiAgICAgIHJldHVybiB1c2VyRGF0YShzaG9wcywgbGlzdHMpOwogICAgfSwKICAgIGN1cnJlbnRMaXN0czogZnVuY3Rpb24gY3VycmVudExpc3RzKCkgewogICAgICB2YXIgY3VycmVudERhdGEgPSBbXTsKCiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLmRhdGFVc2VySWQpLAogICAgICAgICAgX3N0ZXA7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgZGF0YSA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YSkKICAgICAgICAgIHZhciBkYXRhTGlzdCA9IFtdOwoKICAgICAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoZGF0YS5saXN0cyksCiAgICAgICAgICAgICAgX3N0ZXAyOwoKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgdmFyIGxpc3QgPSBfc3RlcDIudmFsdWU7CiAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhsaXN0KQogICAgICAgICAgICAgIHZhciBjdXJyZW50TGlzdCA9IFtdOwoKICAgICAgICAgICAgICBpZiAobGlzdC5kYXkuc3BsaXQoJ1QnKVswXSA+PSBnZXRJU08obmV3IERhdGUoKSkpIHsKICAgICAgICAgICAgICAgIGN1cnJlbnRMaXN0LnB1c2gobGlzdCk7IC8vIGNvbnNvbGUubG9nKGN1cnJlbnRMaXN0KQogICAgICAgICAgICAgIH0gLy9jb25zb2xlLmxvZyhjdXJyZW50TGlzdCkKICAgICAgICAgICAgICAvL2RhdGFMaXN0LnB1c2goY3VycmVudExpc3QpCiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YUxpc3QpCgogICAgICAgICAgICB9IC8vY29uc29sZS5sb2coZGF0YUxpc3QpCiAgICAgICAgICAgIC8vIGlmIChsaXN0LmRheS5zcGxpdCgnVCcpWzBdID49IGdldElTTyhuZXcgRGF0ZSgpKSkgewogICAgICAgICAgICAvLyBjdXJyZW50RGF0YS5wdXNoKGRhdGFMaXN0KQogICAgICAgICAgICAvLyB9CgogICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgX2l0ZXJhdG9yMi5mKCk7CiAgICAgICAgICB9CiAgICAgICAgfSAvLyBjb25zb2xlLmxvZyhjdXJyZW50RGF0YSkKCiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGN1cnJlbnREYXRhOwogICAgfQogIH0pLAogIGJlZm9yZVVwZGF0ZTogZnVuY3Rpb24gYmVmb3JlVXBkYXRlKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKF90aGlzLmdldFVzZXIpLmxlbmd0aCkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2N1cnJlbnRVc2VyJyk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJHN0b3JlLmRpc3BhdGNoKCdnZXRTaG9wRnJvbVVzZXJJZCcsIF90aGlzMi5nZXRJZCgpKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kc3RvcmUuZGlzcGF0Y2goJ2dldExpc3RGcm9tVXNlcklkJywgX3RoaXMyLmdldElkKCkpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRzdG9yZS5kaXNwYXRjaCgnZ2V0Q2F0ZWdvcnlGcm9tVXNlcklkJywgX3RoaXMyLmdldElkKCkpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRzdG9yZS5kaXNwYXRjaCgnZ2V0UHJvZHVjdEZyb21Vc2VySWQnLCBfdGhpczIuZ2V0SWQoKSk7CgogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSkoKTsKICB9Cn07"},{"version":3,"sources":["MyShops.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuBA,OAAA,YAAA,MAAA,gBAAA;AACA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AACA,OAAA,QAAA,MAAA,yBAAA;AACA,OAAA,MAAA,MAAA,uBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAGA,EAAA,UAAA,EAAA;AACA,IAAA,YAAA,EAAA;AADA,GAHA;AAOA,EAAA,KAAA,EAAA,CAAA,QAAA,CAPA;AASA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AACA,UAAA,OAAA,GAAA;AACA,QAAA,EAAA,EAAA,YAAA,CAAA,OAAA,CAAA,YAAA;AADA,OAAA;AAGA,aAAA,OAAA;AACA;AANA,GATA;AAiBA,EAAA,QAAA,kCACA,UAAA,CACA,CACA,cADA,EAEA,SAFA,EAGA,eAHA,EAIA,WAJA,EAKA,oBALA,EAMA,eANA,EAOA,kBAPA,EAQA,mBARA,EASA,QATA,CADA,CADA;AAcA,IAAA,UAdA,wBAcA;AACA,UAAA,KAAA,GAAA,KAAA,aAAA;AACA,UAAA,KAAA,GAAA,KAAA,aAAA;AACA,aAAA,QAAA,CAAA,KAAA,EAAA,KAAA,CAAA;AACA,KAlBA;AAoBA,IAAA,YApBA,0BAoBA;AACA,UAAA,WAAA,GAAA,EAAA;;AADA,iDAEA,KAAA,UAFA;AAAA;;AAAA;AAEA,4DAAA;AAAA,cAAA,IAAA;AACA;AACA,cAAA,QAAA,GAAA,EAAA;;AAFA,sDAGA,IAAA,CAAA,KAHA;AAAA;;AAAA;AAGA,mEAAA;AAAA,kBAAA,IAAA;AACA;AACA,kBAAA,WAAA,GAAA,EAAA;;AACA,kBAAA,IAAA,CAAA,GAAA,CAAA,KAAA,CAAA,GAAA,EAAA,CAAA,KAAA,MAAA,CAAA,IAAA,IAAA,EAAA,CAAA,EAAA;AACA,gBAAA,WAAA,CAAA,IAAA,CAAA,IAAA,EADA,CAEA;AACA,eANA,CAOA;AACA;AACA;;AACA,aAbA,CAcA;AACA;AACA;AACA;;AAjBA;AAAA;AAAA;AAAA;AAAA;AAkBA,SApBA,CAqBA;;AArBA;AAAA;AAAA;AAAA;AAAA;;AAsBA,aAAA,WAAA;AACA;AA3CA,IAjBA;AA8DA,EAAA,YA9DA,0BA8DA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,MAAA,CAAA,IAAA,CAAA,KAAA,CAAA,OAAA,EAAA,MADA;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAEA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,aAAA,CAFA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA,GAnEA;AAoEA,EAAA,OApEA,qBAoEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,mBAAA,EAAA,MAAA,CAAA,KAAA,EAAA,CADA;;AAAA;AAAA;AAAA,qBAEA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,mBAAA,EAAA,MAAA,CAAA,KAAA,EAAA,CAFA;;AAAA;AAAA;AAAA,qBAGA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,uBAAA,EAAA,MAAA,CAAA,KAAA,EAAA,CAHA;;AAAA;AAAA;AAAA,qBAIA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,sBAAA,EAAA,MAAA,CAAA,KAAA,EAAA,CAJA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AA1EA,CAAA","sourcesContent":["<template>\n  <div>\n<!--    :key=\"reRender\"-->\n    <div class=\"main-wrapper flex-center-column\">\n      <div v-if=\"dataUserId.length\">\n        <ShopListItem\n          v-for=\"(shop, idx) in dataUserId\"\n          :idx = \"idx\"\n          :shop_data = \"shop\"\n        >\n        </ShopListItem>\n      </div>\n      <div v-else>\n        <p>У Вас пока нет магазинов и списков</p>\n      </div>\n      <router-link :to=\"{name: 'newList', params: {user_id: getUserId}}\"\n                   class=\"button btn-new-list\">+</router-link>\n    </div>\n    {{currentLists}}\n  </div>\n</template>\n\n<script>\nimport ShopListItem from \"./ShopListItem\";\nimport {mapActions, mapGetters} from \"vuex\";\nimport userData from \"../composables/userData\";\nimport getISO from \"../composables/getISO\";\n\nexport default {\n  name: \"MyShops\",\n\n  components: {\n    ShopListItem\n  },\n\n  props: ['idUser'],\n\n  methods: {\n    getId () {\n      const user_id = {\n        id: localStorage.getItem('saveUserId')\n      }\n      return user_id\n    }\n  },\n  computed: {\n    ...mapGetters\n    ([\n      'getShopsList',\n      'getUser',\n      'getShopUserId',\n      'getUserId',\n      'getShopsOptionList',\n      'getListUserId',\n      'getProductUserId',\n      'getCategoryUserId',\n        'userId'\n    ]),\n\n   dataUserId() {\n      const shops = this.getShopUserId;\n      const lists = this.getListUserId;\n     return userData(shops, lists);\n    },\n\n   currentLists() {\n      const currentData = [];\n      for (let data of this.dataUserId) {\n       // console.log(data)\n        const dataList = []\n        for (let list of data.lists) {\n         //console.log(list)\n          const currentList = []\n          if (list.day.split('T')[0] >= getISO(new Date())) {\n            currentList.push(list)\n           // console.log(currentList)\n          }\n          //console.log(currentList)\n          //dataList.push(currentList)\n         // console.log(dataList)\n        }\n        //console.log(dataList)\n        // if (list.day.split('T')[0] >= getISO(new Date())) {\n          // currentData.push(dataList)\n        // }\n      }\n      // console.log(currentData)\n      return currentData\n   }\n  },\n  async beforeUpdate() {\n    if (!Object.keys(this.getUser).length) {\n      await this.$store.dispatch('currentUser')\n    }\n\n  },\n  async mounted() {\n    await this.$store.dispatch('getShopFromUserId', this.getId())\n    await this.$store.dispatch('getListFromUserId', this.getId())\n    await this.$store.dispatch('getCategoryFromUserId', this.getId())\n    await this.$store.dispatch('getProductFromUserId', this.getId())\n\n  },\n\n}\n</script>\n\n<style scoped>\n  .btn-new-list {\n    width: 32px;\n    height: 32px;\n    font-size: 32px;\n    position: fixed;\n    right: 16px;\n    bottom: 32px;\n  }\n</style>"],"sourceRoot":"src/components/shop"}]}