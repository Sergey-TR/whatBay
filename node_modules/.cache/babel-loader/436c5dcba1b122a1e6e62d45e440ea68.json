{"remainingRequest":"/home/sergey/projects/whatbayGH/node_modules/babel-loader/lib/index.js!/home/sergey/projects/whatbayGH/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/sergey/projects/whatbayGH/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sergey/projects/whatbayGH/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/sergey/projects/whatbayGH/src/views/Login.vue","mtime":1642944065333},{"path":"/home/sergey/projects/whatbayGH/babel.config.js","mtime":1638251051908},{"path":"/home/sergey/projects/whatbayGH/node_modules/cache-loader/dist/cjs.js","mtime":1643348323584},{"path":"/home/sergey/projects/whatbayGH/node_modules/babel-loader/lib/index.js","mtime":1643348324864},{"path":"/home/sergey/projects/whatbayGH/node_modules/cache-loader/dist/cjs.js","mtime":1643348323584},{"path":"/home/sergey/projects/whatbayGH/node_modules/vue-loader/lib/index.js","mtime":1643348325232}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3NlcmdleS9wcm9qZWN0cy93aGF0YmF5R0gvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IHJlcXVpcmVkLCBlbWFpbCwgbWluTGVuZ3RoIH0gZnJvbSAidnVlbGlkYXRlL2xpYi92YWxpZGF0b3JzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb2dpbiIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVtYWlsOiAnJywKICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICB1c2VyX25hbWU6ICcnCiAgICB9OwogIH0sCiAgdmFsaWRhdGlvbnM6IHsKICAgIGVtYWlsOiB7CiAgICAgIGVtYWlsOiBlbWFpbCwKICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkCiAgICB9LAogICAgdXNlcl9uYW1lOiB7CiAgICAgIHJlcXVpcmVkOiByZXF1aXJlZCwKICAgICAgbWluTGVuZ3RoOiBtaW5MZW5ndGgoMykKICAgIH0sCiAgICBwYXNzd29yZDogewogICAgICByZXF1aXJlZDogcmVxdWlyZWQKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHNob3dfaGlkZV9wYXNzd29yZDogZnVuY3Rpb24gc2hvd19oaWRlX3Bhc3N3b3JkKHRhcmdldCkgewogICAgICB2YXIgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXJnZXQpOwoKICAgICAgaWYgKGlucHV0LmdldEF0dHJpYnV0ZSgndHlwZScpID09ICdwYXNzd29yZCcpIHsKICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dCcpOwogICAgICB9IGVsc2UgewogICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICdwYXNzd29yZCcpOwogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogICAgc3VibWl0SGFuZGxlcjogZnVuY3Rpb24gc3VibWl0SGFuZGxlcigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGZvcm1EYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMuJHYuJGludmFsaWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzLiR2LiR0b3VjaCgpOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBmb3JtRGF0YSA9IHsKICAgICAgICAgICAgICAgICAgZW1haWw6IF90aGlzLmVtYWlsLAogICAgICAgICAgICAgICAgICBwYXNzd29yZDogX3RoaXMucGFzc3dvcmQgLy91c2VybmFtZTogdGhpcy5lbWFpbAoKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnbG9naW4nLCBmb3JtRGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRyb3V0ZXIucHVzaCgnL215X3Nob3AnKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTE7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDQpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1s0LCAxMV1dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA,SAAA,QAAA,EAAA,KAAA,EAAA,SAAA,QAAA,0BAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,SAAA,EAAA;AAHA,KAAA;AAKA,GATA;AAWA,EAAA,WAAA,EAAA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,KAAA,EAAA,KADA;AAEA,MAAA,QAAA,EAAA;AAFA,KADA;AAKA,IAAA,SAAA,EAAA;AACA,MAAA,QAAA,EAAA,QADA;AAEA,MAAA,SAAA,EAAA,SAAA,CAAA,CAAA;AAFA,KALA;AASA,IAAA,QAAA,EAAA;AACA,MAAA,QAAA,EAAA;AADA;AATA,GAXA;AAyBA,EAAA,OAAA,EAAA;AACA,IAAA,kBADA,8BACA,MADA,EACA;AACA,UAAA,KAAA,GAAA,QAAA,CAAA,cAAA,CAAA,MAAA,CAAA;;AACA,UAAA,KAAA,CAAA,YAAA,CAAA,MAAA,KAAA,UAAA,EAAA;AACA,QAAA,KAAA,CAAA,YAAA,CAAA,MAAA,EAAA,MAAA;AACA,OAFA,MAEA;AACA,QAAA,KAAA,CAAA,YAAA,CAAA,MAAA,EAAA,UAAA;AACA;;AACA,aAAA,KAAA;AACA,KATA;AAUA,IAAA,aAVA,2BAUA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,KAAA,CAAA,EAAA,CAAA,QADA;AAAA;AAAA;AAAA;;AAEA,gBAAA,KAAA,CAAA,EAAA,CAAA,MAAA;;AAFA;;AAAA;AAMA,gBAAA,QANA,GAMA;AACA,kBAAA,KAAA,EAAA,KAAA,CAAA,KADA;AAEA,kBAAA,QAAA,EAAA,KAAA,CAAA,QAFA,CAGA;;AAHA,iBANA;AAAA;AAAA;AAAA,uBAYA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,OAAA,EAAA,QAAA,CAZA;;AAAA;AAAA;AAAA,uBAaA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,UAAA,CAbA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA;AA1BA;AAzBA,CAAA","sourcesContent":["<template>\n  <div class=\"main-wrapper flex-center-column\">\n  <div class=\"section-heading\">\n    <h3 class=\"h3\">Вход</h3>\n      <p class=\"section-content\">\n        Введите ваши учетные данные\n      </p>\n  </div>\n  <form class=\"form\" method=\"post\" @submit.prevent=\"submitHandler\">\n    <label class=\"form-label\" for=\"user_name\">\n      Введите ваш login\n    </label>\n    <small class=\"invalid err_info\" v-if=\"($v.user_name.$dirty && !$v.user_name.required)\n        || ($v.user_name.$dirty && !$v.user_name.minLength)\">\n      Поле имя не должно быть пустым, и содержать не менее {{ $v.user_name.$params.minLength.min }} символов.\n    </small>\n    <input class=\"form-input\"\n           type=\"text\"\n           placeholder=\"Name\"\n           id=\"user_name\"\n           v-model.trim=\"user_name\"\n           :class=\"{invalid: ($v.user_name.$dirty && !$v.user_name.required)\n          || ($v.user_name.$dirty && !$v.user_name.minLength)}\">\n\n    <label class=\"form-label\" for=\"user_email\">\n      Введите ваш e-mail\n    </label>\n    <small class=\"invalid err_info\" v-if=\"$v.email.$dirty && !$v.email.required\">\n      Поле e-mail не должно быть пустым\n    </small>\n    <small class=\"invalid err_info\" v-else-if=\"$v.email.$dirty && !$v.email.email\">\n      e-mail должен выглядеть пример: example@gmail.com\n    </small>\n    <input class=\"form-input\"\n           type=\"email\"\n           placeholder=\"for_example@gmail.com\"\n           id=\"user_email\"\n           v-model.trim=\"email\"\n           :class=\"{invalid: ($v.email.$dirty && !$v.email.required)\n              || ($v.email.$dirty && !$v.email.email)}\"\n    >\n\n    <label class=\"form-label\" for=\"user_password\">\n      Введите пароль\n      <small class=\"invalid err_info\" v-if=\"$v.password.$dirty && !$v.password.required\">\n        Поле пароль не должно быть пустым\n      </small>\n      <div class=\"wrapper-input\">\n        <input class=\"form-input form-font-password\"\n             type=\"password\"\n             id=\"user_password\"\n             v-model.trim=\"password\"\n             :class=\"{invalid: $v.password.$dirty && !$v.password.required}\"\n        >\n        <img class=\"display-password-pic\"\n           src=\"../assets/img/eye.svg\" alt=\"display\"\n           @click=\"show_hide_password(`user_password`)\">\n      </div>\n    </label><br>\n\n    <button class=\"button btn-log\" type=\"submit\">Войти</button>\n  </form>\n    <div class=\"registerWay\">\n      <p class=\"text-center\">\n        <router-link to=\"/registration\">\n          <span>Зарегистрируйтесь</span>\n        </router-link>\n          , если нет аккаунта.\n      </p>\n  </div>\n  </div>\n</template>\n\n<script>\nimport {required, email, minLength} from \"vuelidate/lib/validators\";\n\nexport default {\n  name: \"Login\",\n\n  data() {\n    return {\n      email: '',\n      password: '',\n      user_name: ''\n    }\n  },\n\n  validations: {\n    email: {\n      email,\n      required\n    },\n    user_name: {\n      required,\n      minLength: minLength(3)\n    },\n    password: {\n      required\n    }\n  },\n\n  methods: {\n    show_hide_password(target){\n      let input = document.getElementById(target);\n      if (input.getAttribute('type') == 'password') {\n        input.setAttribute('type', 'text');\n      } else {\n        input.setAttribute('type', 'password');\n      }\n      return false;\n    },\n    async submitHandler() {\n      if(this.$v.$invalid) {\n        this.$v.$touch()\n        return\n      }\n\n      const formData = {\n        email: this.email,\n        password: this.password,\n        //username: this.email\n      }\n      try {\n        await this.$store.dispatch('login', formData)\n        await this.$router.push('/my_shop')\n      }\n        catch (e) {}\n    },\n  },\n}\n</script>\n\n<style>\n.section-heading {\n  width: 100%;\n  margin-bottom: 23px;\n}\n.section-content {\n  color: #575F6E;\n  line-height: 22px;\n  font-size: 14px;\n}\n.form {\n  border: 1px solid #E2E4E5;\n  border-radius: 10px;\n  padding: 32px;\n  color: #242E42;\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.form-label {\n  position: relative;\n  display: flex;\n  flex-wrap: wrap;\n  font-size: 14px;\n  line-height: 20px;\n  width: 100%;\n}\n\n.form > .form-label:not(:first-child) {\n  margin-top: 32px;\n}\n\n.wrapper-input {\n  display: flex;\n  margin-bottom: 16px;\n}\n\n.display-password-pic {\n  border-bottom: 1px solid #E2E4E5;\n}\n\n.form-input {\n  width: 100%;\n  padding: 8px 16px;\n\n  border-bottom: 1px solid #E2E4E5;\n  border-top: none;\n  border-left: none;\n  border-right: none;\n\n  font-size: 14px;\n  /*line-height: 28px;*/\n}\n\n.form-input:focus {\n  outline: none;\n  border-bottom: 1px solid #2C9AB7;\n}\n\ninput:focus::-webkit-input-placeholder {\n  color: transparent;\n}\n\ninput:focus:-moz-placeholder {\n  color: transparent;\n}\n\n/* FF 4-18 */\ninput:focus::-moz-placeholder {\n  color: transparent;\n}\n\n/* FF 19+ */\ninput:focus:-ms-input-placeholder {\n  color: transparent;\n}\n.btn-log {\n  width: 79px;\n  height: 44px;\n}\n.registerWay {\n  border: 1px solid #E2E4E5;\n  border-radius: 10px;\n  margin-top: 16px;\n}\n.text-center {\n  text-align: center;\n  padding-top: 16px;\n}\n.invalid {\n  border-bottom: 2px solid darkred;\n\n}\n\n.err_info {\n  color: darkred;\n}\n\n</style>"],"sourceRoot":"src/views"}]}